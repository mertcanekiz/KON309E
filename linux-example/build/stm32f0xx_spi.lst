ARM GAS  /tmp/ccOEkdfP.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32f0xx_spi.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.SPI_I2S_DeInit,"ax",%progbits
  16              		.align	1
  17              		.global	SPI_I2S_DeInit
  18              		.arch armv6s-m
  19              		.syntax unified
  20              		.code	16
  21              		.thumb_func
  22              		.fpu softvfp
  24              	SPI_I2S_DeInit:
  25              	.LVL0:
  26              	.LFB40:
  27              		.file 1 "Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c"
   1:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
   2:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   ******************************************************************************
   3:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @file    stm32f0xx_spi.c
   4:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @version V1.0.0
   6:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @date    23-March-2012
   7:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief   This file provides firmware functions to manage the following 
   8:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *          functionalities of the Serial peripheral interface (SPI):
   9:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           + Initialization and Configuration
  10:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           + Data transfers functions
  11:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           + Hardware CRC Calculation
  12:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           + DMA transfers management
  13:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           + Interrupts and flags management
  14:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *
  15:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *  @verbatim
  16:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
  17:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
  18:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                        ##### How to use this driver #####
  19:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
  20:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..]
  21:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) Enable peripheral clock using RCC_APB2PeriphClockCmd(RCC_APB2Periph_SPI1, ENABLE)
  22:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             function for SPI1 or using RCC_APB1PeriphClockCmd(RCC_APB1Periph_SPI2, ENABLE)
  23:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             function for SPI2.
  24:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
  25:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) Enable SCK, MOSI, MISO and NSS GPIO clocks using 
  26:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             RCC_AHBPeriphClockCmd() function. 
  27:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
  28:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) Peripherals alternate function: 
  29:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) Connect the pin to the desired peripherals' Alternate 
  30:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                  Function (AF) using GPIO_PinAFConfig() function.
  31:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) Configure the desired pin in alternate function by:
ARM GAS  /tmp/ccOEkdfP.s 			page 2


  32:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                  GPIO_InitStruct->GPIO_Mode = GPIO_Mode_AF.
  33:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) Select the type, pull-up/pull-down and output speed via 
  34:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                  GPIO_PuPd, GPIO_OType and GPIO_Speed members.
  35:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) Call GPIO_Init() function.
  36:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
  37:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) Program the Polarity, Phase, First Data, Baud Rate Prescaler, Slave 
  38:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             Management, Peripheral Mode and CRC Polynomial values using the SPI_Init()
  39:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             function.In I2S mode, program the Mode, Standard, Data Format, MCLK 
  40:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             Output, Audio frequency and Polarity using I2S_Init() function.
  41:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
  42:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) Enable the NVIC and the corresponding interrupt using the function 
  43:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             SPI_ITConfig() if you need to use interrupt mode. 
  44:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
  45:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) When using the DMA mode 
  46:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) Configure the DMA using DMA_Init() function.
  47:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) Active the needed channel Request using SPI_I2S_DMACmd() function.
  48:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****    
  49:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) Enable the SPI using the SPI_Cmd() function or enable the I2S using
  50:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             I2S_Cmd().
  51:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****    
  52:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) Enable the DMA using the DMA_Cmd() function when using DMA mode. 
  53:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
  54:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) Optionally, you can enable/configure the following parameters without
  55:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             re-initialization (i.e there is no need to call again SPI_Init() function):
  56:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) When bidirectional mode (SPI_Direction_1Line_Rx or SPI_Direction_1Line_Tx)
  57:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                  is programmed as Data direction parameter using the SPI_Init() 
  58:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                  function it can be possible to switch between SPI_Direction_Tx 
  59:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                  or SPI_Direction_Rx using the SPI_BiDirectionalLineConfig() function.
  60:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) When SPI_NSS_Soft is selected as Slave Select Management parameter 
  61:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                  using the SPI_Init() function it can be possible to manage the 
  62:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                  NSS internal signal using the SPI_NSSInternalSoftwareConfig() function.
  63:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) Reconfigure the data size using the SPI_DataSizeConfig() function.
  64:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             (++) Enable or disable the SS output using the SPI_SSOutputCmd() function.  
  65:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
  66:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) To use the CRC Hardware calculation feature refer to the Peripheral 
  67:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             CRC hardware Calculation subsection.
  68:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
  69:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     @endverbatim 
  70:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   ******************************************************************************
  71:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @attention
  72:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *
  73:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  74:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *
  75:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  76:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * You may not use this file except in compliance with the License.
  77:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * You may obtain a copy of the License at:
  78:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *
  79:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  80:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *
  81:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * Unless required by applicable law or agreed to in writing, software 
  82:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  83:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  84:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * See the License for the specific language governing permissions and
  85:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * limitations under the License.
  86:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *
  87:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   ******************************************************************************
  88:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
ARM GAS  /tmp/ccOEkdfP.s 			page 3


  89:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
  90:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /* Includes ------------------------------------------------------------------*/
  91:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** #include "stm32f0xx_spi.h"
  92:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** #include "stm32f0xx_rcc.h"
  93:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
  94:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /** @addtogroup STM32F0xx_StdPeriph_Driver
  95:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @{
  96:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
  97:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
  98:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /** @defgroup SPI
  99:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief SPI driver modules
 100:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @{
 101:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 102:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 103:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /* Private typedef -----------------------------------------------------------*/
 104:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /* Private define ------------------------------------------------------------*/
 105:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /* SPI registers Masks */
 106:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** #define CR1_CLEAR_MASK       ((uint16_t)0x3040)
 107:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** #define CR1_CLEAR_MASK2      ((uint16_t)0xFFFB)
 108:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** #define CR2_LDMA_MASK        ((uint16_t)0x9FFF)
 109:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 110:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** #define I2SCFGR_CLEAR_Mask   ((uint16_t)0xF040)
 111:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 112:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /* Private macro -------------------------------------------------------------*/
 113:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /* Private variables ---------------------------------------------------------*/
 114:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /* Private function prototypes -----------------------------------------------*/
 115:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /* Private functions ---------------------------------------------------------*/
 116:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 117:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /** @defgroup SPI_Private_Functions
 118:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @{
 119:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 120:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 121:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /** @defgroup SPI_Group1 Initialization and Configuration functions
 122:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  *  @brief   Initialization and Configuration functions 
 123:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  *
 124:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @verbatim   
 125:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
 126:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****            ##### Initialization and Configuration functions #####
 127:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
 128:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] This section provides a set of functions allowing to initialize the SPI Direction,
 129:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          SPI Mode, SPI Data Size, SPI Polarity, SPI Phase, SPI NSS Management, SPI Baud
 130:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          Rate Prescaler, SPI First Bit and SPI CRC Polynomial.
 131:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 132:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] The SPI_Init() function follows the SPI configuration procedures for Master mode
 133:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          and Slave mode (details for these procedures are available in reference manual).
 134:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          
 135:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] When the Software NSS management (SPI_InitStruct->SPI_NSS = SPI_NSS_Soft) is selected,
 136:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          use the following function to manage the NSS bit:
 137:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          void SPI_NSSInternalSoftwareConfig(SPI_TypeDef* SPIx, uint16_t SPI_NSSInternalSoft);
 138:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 139:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] In Master mode, when the Hardware NSS management (SPI_InitStruct->SPI_NSS = SPI_NSS_Hard)
 140:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          is selected, use the follwoing function to enable the NSS output feature.
 141:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          void SPI_SSOutputCmd(SPI_TypeDef* SPIx, FunctionalState NewState);
 142:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 143:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] The NSS pulse mode can be managed by the SPI TI mode when enabling it using the following 
 144:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          void SPI_TIModeCmd(SPI_TypeDef* SPIx, FunctionalState NewState);
 145:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          And it can be managed by software in the SPI Motorola mode using this function: 
ARM GAS  /tmp/ccOEkdfP.s 			page 4


 146:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          void SPI_NSSPulseModeCmd(SPI_TypeDef* SPIx, FunctionalState NewState);
 147:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 148:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] This section provides also functions to initialize the I2S Mode, Standard, 
 149:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          Data Format, MCLK Output, Audio frequency and Polarity.
 150:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 151:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] The I2S_Init() function follows the I2S configuration procedures for Master mode
 152:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          and Slave mode.
 153:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 154:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @endverbatim
 155:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @{
 156:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 157:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 158:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 159:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Deinitializes the SPIx peripheral registers to their default
 160:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         reset values.
 161:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 162:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 163:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 164:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_I2S_DeInit(SPI_TypeDef* SPIx)
 165:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
  28              		.loc 1 165 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 165 1 is_stmt 0 view .LVU1
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
 166:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 167:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
  38              		.loc 1 167 3 is_stmt 1 view .LVU2
 168:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 169:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (SPIx == SPI1)
  39              		.loc 1 169 3 view .LVU3
  40              		.loc 1 169 6 is_stmt 0 view .LVU4
  41 0002 0E4B     		ldr	r3, .L6
  42 0004 9842     		cmp	r0, r3
  43 0006 03D0     		beq	.L4
 170:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 171:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Enable SPI1 reset state */
 172:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, ENABLE);
 173:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Release SPI1 from reset state */
 174:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, DISABLE);
 175:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 176:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 177:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 178:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     if (SPIx == SPI2)
  44              		.loc 1 178 5 is_stmt 1 view .LVU5
  45              		.loc 1 178 8 is_stmt 0 view .LVU6
  46 0008 0D4B     		ldr	r3, .L6+4
  47 000a 9842     		cmp	r0, r3
  48 000c 0BD0     		beq	.L5
  49              	.LVL1:
  50              	.L1:
 179:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     {
ARM GAS  /tmp/ccOEkdfP.s 			page 5


 180:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       /* Enable SPI2 reset state */
 181:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, ENABLE);
 182:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       /* Release SPI2 from reset state */
 183:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, DISABLE);
 184:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 185:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 186:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
  51              		.loc 1 186 1 view .LVU7
  52              		@ sp needed
  53 000e 10BD     		pop	{r4, pc}
  54              	.LVL2:
  55              	.L4:
 172:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Release SPI1 from reset state */
  56              		.loc 1 172 5 is_stmt 1 view .LVU8
  57 0010 8024     		movs	r4, #128
  58 0012 6401     		lsls	r4, r4, #5
  59 0014 0121     		movs	r1, #1
  60 0016 2000     		movs	r0, r4
  61              	.LVL3:
 172:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Release SPI1 from reset state */
  62              		.loc 1 172 5 is_stmt 0 view .LVU9
  63 0018 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  64              	.LVL4:
 174:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
  65              		.loc 1 174 5 is_stmt 1 view .LVU10
  66 001c 0021     		movs	r1, #0
  67 001e 2000     		movs	r0, r4
  68 0020 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  69              	.LVL5:
  70 0024 F3E7     		b	.L1
  71              	.LVL6:
  72              	.L5:
 181:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       /* Release SPI2 from reset state */
  73              		.loc 1 181 7 view .LVU11
  74 0026 8024     		movs	r4, #128
  75 0028 E401     		lsls	r4, r4, #7
  76 002a 0121     		movs	r1, #1
  77 002c 2000     		movs	r0, r4
  78              	.LVL7:
 181:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       /* Release SPI2 from reset state */
  79              		.loc 1 181 7 is_stmt 0 view .LVU12
  80 002e FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  81              	.LVL8:
 183:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
  82              		.loc 1 183 7 is_stmt 1 view .LVU13
  83 0032 0021     		movs	r1, #0
  84 0034 2000     		movs	r0, r4
  85 0036 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  86              	.LVL9:
  87              		.loc 1 186 1 is_stmt 0 view .LVU14
  88 003a E8E7     		b	.L1
  89              	.L7:
  90              		.align	2
  91              	.L6:
  92 003c 00300140 		.word	1073819648
  93 0040 00380040 		.word	1073756160
  94              		.cfi_endproc
ARM GAS  /tmp/ccOEkdfP.s 			page 6


  95              	.LFE40:
  97              		.section	.text.SPI_StructInit,"ax",%progbits
  98              		.align	1
  99              		.global	SPI_StructInit
 100              		.syntax unified
 101              		.code	16
 102              		.thumb_func
 103              		.fpu softvfp
 105              	SPI_StructInit:
 106              	.LVL10:
 107              	.LFB41:
 187:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 188:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 189:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Fills each SPI_InitStruct member with its default value.
 190:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure which will be initialized.
 191:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 192:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 193:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_StructInit(SPI_InitTypeDef* SPI_InitStruct)
 194:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 108              		.loc 1 194 1 is_stmt 1 view -0
 109              		.cfi_startproc
 110              		@ args = 0, pretend = 0, frame = 0
 111              		@ frame_needed = 0, uses_anonymous_args = 0
 112              		@ link register save eliminated.
 195:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /*--------------- Reset SPI init structure parameters values -----------------*/
 196:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the SPI_Direction member */
 197:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPI_InitStruct->SPI_Direction = SPI_Direction_2Lines_FullDuplex;
 113              		.loc 1 197 3 view .LVU16
 114              		.loc 1 197 33 is_stmt 0 view .LVU17
 115 0000 0023     		movs	r3, #0
 116 0002 0380     		strh	r3, [r0]
 198:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the SPI_Mode member */
 199:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPI_InitStruct->SPI_Mode = SPI_Mode_Slave;
 117              		.loc 1 199 3 is_stmt 1 view .LVU18
 118              		.loc 1 199 28 is_stmt 0 view .LVU19
 119 0004 4380     		strh	r3, [r0, #2]
 200:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the SPI_DataSize member */
 201:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPI_InitStruct->SPI_DataSize = SPI_DataSize_8b;
 120              		.loc 1 201 3 is_stmt 1 view .LVU20
 121              		.loc 1 201 32 is_stmt 0 view .LVU21
 122 0006 E022     		movs	r2, #224
 123 0008 D200     		lsls	r2, r2, #3
 124 000a 8280     		strh	r2, [r0, #4]
 202:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the SPI_CPOL member */
 203:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPI_InitStruct->SPI_CPOL = SPI_CPOL_Low;
 125              		.loc 1 203 3 is_stmt 1 view .LVU22
 126              		.loc 1 203 28 is_stmt 0 view .LVU23
 127 000c C380     		strh	r3, [r0, #6]
 204:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the SPI_CPHA member */
 205:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPI_InitStruct->SPI_CPHA = SPI_CPHA_1Edge;
 128              		.loc 1 205 3 is_stmt 1 view .LVU24
 129              		.loc 1 205 28 is_stmt 0 view .LVU25
 130 000e 0381     		strh	r3, [r0, #8]
 206:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the SPI_NSS member */
 207:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPI_InitStruct->SPI_NSS = SPI_NSS_Hard;
 131              		.loc 1 207 3 is_stmt 1 view .LVU26
 132              		.loc 1 207 27 is_stmt 0 view .LVU27
ARM GAS  /tmp/ccOEkdfP.s 			page 7


 133 0010 4381     		strh	r3, [r0, #10]
 208:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the SPI_BaudRatePrescaler member */
 209:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPI_InitStruct->SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_2;
 134              		.loc 1 209 3 is_stmt 1 view .LVU28
 135              		.loc 1 209 41 is_stmt 0 view .LVU29
 136 0012 8381     		strh	r3, [r0, #12]
 210:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the SPI_FirstBit member */
 211:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPI_InitStruct->SPI_FirstBit = SPI_FirstBit_MSB;
 137              		.loc 1 211 3 is_stmt 1 view .LVU30
 138              		.loc 1 211 32 is_stmt 0 view .LVU31
 139 0014 C381     		strh	r3, [r0, #14]
 212:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the SPI_CRCPolynomial member */
 213:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPI_InitStruct->SPI_CRCPolynomial = 7;
 140              		.loc 1 213 3 is_stmt 1 view .LVU32
 141              		.loc 1 213 37 is_stmt 0 view .LVU33
 142 0016 0733     		adds	r3, r3, #7
 143 0018 0382     		strh	r3, [r0, #16]
 214:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 144              		.loc 1 214 1 view .LVU34
 145              		@ sp needed
 146 001a 7047     		bx	lr
 147              		.cfi_endproc
 148              	.LFE41:
 150              		.section	.text.SPI_Init,"ax",%progbits
 151              		.align	1
 152              		.global	SPI_Init
 153              		.syntax unified
 154              		.code	16
 155              		.thumb_func
 156              		.fpu softvfp
 158              	SPI_Init:
 159              	.LVL11:
 160              	.LFB42:
 215:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 216:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 217:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 218:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         parameters in the SPI_InitStruct.
 219:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 220:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure that
 221:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         contains the configuration information for the specified SPI peripheral.
 222:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 223:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 224:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_Init(SPI_TypeDef* SPIx, SPI_InitTypeDef* SPI_InitStruct)
 225:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 161              		.loc 1 225 1 is_stmt 1 view -0
 162              		.cfi_startproc
 163              		@ args = 0, pretend = 0, frame = 0
 164              		@ frame_needed = 0, uses_anonymous_args = 0
 165              		.loc 1 225 1 is_stmt 0 view .LVU36
 166 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 167              	.LCFI1:
 168              		.cfi_def_cfa_offset 20
 169              		.cfi_offset 4, -20
 170              		.cfi_offset 5, -16
 171              		.cfi_offset 6, -12
 172              		.cfi_offset 7, -8
 173              		.cfi_offset 14, -4
ARM GAS  /tmp/ccOEkdfP.s 			page 8


 174 0002 C646     		mov	lr, r8
 175 0004 00B5     		push	{lr}
 176              	.LCFI2:
 177              		.cfi_def_cfa_offset 24
 178              		.cfi_offset 8, -24
 226:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint16_t tmpreg = 0;
 179              		.loc 1 226 3 is_stmt 1 view .LVU37
 180              	.LVL12:
 227:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 228:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* check the parameters */
 229:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 181              		.loc 1 229 3 view .LVU38
 230:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 231:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the SPI parameters */
 232:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_DIRECTION_MODE(SPI_InitStruct->SPI_Direction));
 182              		.loc 1 232 3 view .LVU39
 233:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_MODE(SPI_InitStruct->SPI_Mode));
 183              		.loc 1 233 3 view .LVU40
 234:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_DATA_SIZE(SPI_InitStruct->SPI_DataSize));
 184              		.loc 1 234 3 view .LVU41
 235:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_CPOL(SPI_InitStruct->SPI_CPOL));
 185              		.loc 1 235 3 view .LVU42
 236:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_CPHA(SPI_InitStruct->SPI_CPHA));
 186              		.loc 1 236 3 view .LVU43
 237:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_NSS(SPI_InitStruct->SPI_NSS));
 187              		.loc 1 237 3 view .LVU44
 238:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(SPI_InitStruct->SPI_BaudRatePrescaler));
 188              		.loc 1 238 3 view .LVU45
 239:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_FIRST_BIT(SPI_InitStruct->SPI_FirstBit));
 189              		.loc 1 239 3 view .LVU46
 240:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_CRC_POLYNOMIAL(SPI_InitStruct->SPI_CRCPolynomial));
 190              		.loc 1 240 3 view .LVU47
 241:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 242:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /*---------------------------- SPIx CR1 Configuration ------------------------*/
 243:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the SPIx CR1 value */
 244:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg = SPIx->CR1;
 191              		.loc 1 244 3 view .LVU48
 192              		.loc 1 244 10 is_stmt 0 view .LVU49
 193 0006 0288     		ldrh	r2, [r0]
 194              	.LVL13:
 245:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Clear BIDIMode, BIDIOE, RxONLY, SSM, SSI, LSBFirst, BR, CPOL and CPHA bits */
 246:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg &= CR1_CLEAR_MASK;
 195              		.loc 1 246 3 is_stmt 1 view .LVU50
 196              		.loc 1 246 10 is_stmt 0 view .LVU51
 197 0008 C123     		movs	r3, #193
 198 000a 9B01     		lsls	r3, r3, #6
 199 000c 1A40     		ands	r2, r3
 200              	.LVL14:
 247:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
 248:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   master/slave mode, CPOL and CPHA */
 249:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set BIDImode, BIDIOE and RxONLY bits according to SPI_Direction value */
 250:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set SSM, SSI bit according to SPI_NSS values */
 251:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set LSBFirst bit according to SPI_FirstBit value */
 252:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set BR bits according to SPI_BaudRatePrescaler value */
 253:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set CPOL bit according to SPI_CPOL value */
 254:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set CPHA bit according to SPI_CPHA value */
 255:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg |= (uint16_t)((uint32_t)SPI_InitStruct->SPI_Direction | SPI_InitStruct->SPI_FirstBit |
ARM GAS  /tmp/ccOEkdfP.s 			page 9


 201              		.loc 1 255 3 is_stmt 1 view .LVU52
 202              		.loc 1 255 48 is_stmt 0 view .LVU53
 203 000e 0F88     		ldrh	r7, [r1]
 204              		.loc 1 255 80 view .LVU54
 205 0010 CB89     		ldrh	r3, [r1, #14]
 206 0012 9C46     		mov	ip, r3
 256:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                       SPI_InitStruct->SPI_CPOL | SPI_InitStruct->SPI_CPHA |
 207              		.loc 1 256 37 view .LVU55
 208 0014 CE88     		ldrh	r6, [r1, #6]
 209              		.loc 1 256 64 view .LVU56
 210 0016 0D89     		ldrh	r5, [r1, #8]
 257:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                       SPI_InitStruct->SPI_NSS | SPI_InitStruct->SPI_BaudRatePrescaler);  
 211              		.loc 1 257 37 view .LVU57
 212 0018 4C89     		ldrh	r4, [r1, #10]
 213              		.loc 1 257 63 view .LVU58
 214 001a 8B89     		ldrh	r3, [r1, #12]
 215 001c 9846     		mov	r8, r3
 255:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                       SPI_InitStruct->SPI_CPOL | SPI_InitStruct->SPI_CPHA |
 216              		.loc 1 255 13 view .LVU59
 217 001e 6346     		mov	r3, ip
 218 0020 1F43     		orrs	r7, r3
 219 0022 3E43     		orrs	r6, r7
 220 0024 3543     		orrs	r5, r6
 221 0026 2C43     		orrs	r4, r5
 222 0028 4346     		mov	r3, r8
 223 002a 2343     		orrs	r3, r4
 255:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                       SPI_InitStruct->SPI_CPOL | SPI_InitStruct->SPI_CPHA |
 224              		.loc 1 255 10 view .LVU60
 225 002c 1343     		orrs	r3, r2
 226              	.LVL15:
 258:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Write to SPIx CR1 */
 259:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR1 = tmpreg;
 227              		.loc 1 259 3 is_stmt 1 view .LVU61
 228              		.loc 1 259 13 is_stmt 0 view .LVU62
 229 002e 0380     		strh	r3, [r0]
 260:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /*-------------------------Data Size Configuration -----------------------*/
 261:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the SPIx CR2 value */
 262:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg = SPIx->CR2;
 230              		.loc 1 262 3 is_stmt 1 view .LVU63
 231              		.loc 1 262 10 is_stmt 0 view .LVU64
 232 0030 8388     		ldrh	r3, [r0, #4]
 233              	.LVL16:
 263:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Clear DS[3:0] bits */
 264:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg &=(uint16_t)~SPI_CR2_DS;
 234              		.loc 1 264 3 is_stmt 1 view .LVU65
 235              		.loc 1 264 10 is_stmt 0 view .LVU66
 236 0032 0A4A     		ldr	r2, .L10
 237 0034 1A40     		ands	r2, r3
 238              	.LVL17:
 265:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Configure SPIx: Data Size */
 266:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg |= (uint16_t)(SPI_InitStruct->SPI_DataSize);
 239              		.loc 1 266 3 is_stmt 1 view .LVU67
 240              		.loc 1 266 38 is_stmt 0 view .LVU68
 241 0036 8B88     		ldrh	r3, [r1, #4]
 242              		.loc 1 266 10 view .LVU69
 243 0038 1343     		orrs	r3, r2
 244              	.LVL18:
ARM GAS  /tmp/ccOEkdfP.s 			page 10


 267:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Write to SPIx CR2 */
 268:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR2 = tmpreg;
 245              		.loc 1 268 3 is_stmt 1 view .LVU70
 246              		.loc 1 268 13 is_stmt 0 view .LVU71
 247 003a 8380     		strh	r3, [r0, #4]
 269:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 270:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration --------------------*/
 271:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Write to SPIx CRCPOLY */
 272:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CRCPR = SPI_InitStruct->SPI_CRCPolynomial;
 248              		.loc 1 272 3 is_stmt 1 view .LVU72
 249              		.loc 1 272 31 is_stmt 0 view .LVU73
 250 003c 0B8A     		ldrh	r3, [r1, #16]
 251              	.LVL19:
 252              		.loc 1 272 15 view .LVU74
 253 003e 0382     		strh	r3, [r0, #16]
 254              	.LVL20:
 273:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 274:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /*---------------------------- SPIx CR1 Configuration ------------------------*/
 275:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the SPIx CR1 value */
 276:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg = SPIx->CR1;
 255              		.loc 1 276 3 is_stmt 1 view .LVU75
 256              		.loc 1 276 10 is_stmt 0 view .LVU76
 257 0040 0388     		ldrh	r3, [r0]
 258              	.LVL21:
 277:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Clear MSTR bit */
 278:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg &= CR1_CLEAR_MASK2;
 259              		.loc 1 278 3 is_stmt 1 view .LVU77
 260              		.loc 1 278 10 is_stmt 0 view .LVU78
 261 0042 0422     		movs	r2, #4
 262 0044 9343     		bics	r3, r2
 263              	.LVL22:
 264              		.loc 1 278 10 view .LVU79
 265 0046 1A00     		movs	r2, r3
 266              	.LVL23:
 279:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Configure SPIx: master/slave mode */  
 280:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set MSTR bit according to SPI_Mode */
 281:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg |= (uint16_t)((uint32_t)SPI_InitStruct->SPI_Mode);  
 267              		.loc 1 281 3 is_stmt 1 view .LVU80
 268              		.loc 1 281 48 is_stmt 0 view .LVU81
 269 0048 4B88     		ldrh	r3, [r1, #2]
 270              		.loc 1 281 10 view .LVU82
 271 004a 1343     		orrs	r3, r2
 272              	.LVL24:
 282:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Write to SPIx CR1 */
 283:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR1 = tmpreg;  
 273              		.loc 1 283 3 is_stmt 1 view .LVU83
 274              		.loc 1 283 13 is_stmt 0 view .LVU84
 275 004c 0380     		strh	r3, [r0]
 284:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 285:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Activate the SPI mode (Reset I2SMOD bit in I2SCFGR register) */
 286:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->I2SCFGR &= (uint16_t)~((uint16_t)SPI_I2SCFGR_I2SMOD);
 276              		.loc 1 286 3 is_stmt 1 view .LVU85
 277              		.loc 1 286 17 is_stmt 0 view .LVU86
 278 004e 838B     		ldrh	r3, [r0, #28]
 279              	.LVL25:
 280              		.loc 1 286 17 view .LVU87
 281 0050 034A     		ldr	r2, .L10+4
ARM GAS  /tmp/ccOEkdfP.s 			page 11


 282 0052 1340     		ands	r3, r2
 283 0054 8383     		strh	r3, [r0, #28]
 284              	.LVL26:
 287:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 285              		.loc 1 287 1 view .LVU88
 286              		@ sp needed
 287 0056 04BC     		pop	{r2}
 288 0058 9046     		mov	r8, r2
 289 005a F0BD     		pop	{r4, r5, r6, r7, pc}
 290              	.L11:
 291              		.align	2
 292              	.L10:
 293 005c FFF0FFFF 		.word	-3841
 294 0060 FFF7FFFF 		.word	-2049
 295              		.cfi_endproc
 296              	.LFE42:
 298              		.section	.text.I2S_StructInit,"ax",%progbits
 299              		.align	1
 300              		.global	I2S_StructInit
 301              		.syntax unified
 302              		.code	16
 303              		.thumb_func
 304              		.fpu softvfp
 306              	I2S_StructInit:
 307              	.LVL27:
 308              	.LFB43:
 288:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 289:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 290:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Fills each I2S_InitStruct member with its default value.
 291:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  I2S_InitStruct : pointer to a I2S_InitTypeDef structure which will be initialized.
 292:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 293:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 294:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void I2S_StructInit(I2S_InitTypeDef* I2S_InitStruct)
 295:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 309              		.loc 1 295 1 is_stmt 1 view -0
 310              		.cfi_startproc
 311              		@ args = 0, pretend = 0, frame = 0
 312              		@ frame_needed = 0, uses_anonymous_args = 0
 313              		@ link register save eliminated.
 296:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /*--------------- Reset I2S init structure parameters values -----------------*/
 297:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the I2S_Mode member */
 298:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   I2S_InitStruct->I2S_Mode = I2S_Mode_SlaveTx;
 314              		.loc 1 298 3 view .LVU90
 315              		.loc 1 298 28 is_stmt 0 view .LVU91
 316 0000 0023     		movs	r3, #0
 317 0002 0380     		strh	r3, [r0]
 299:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 300:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the I2S_Standard member */
 301:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   I2S_InitStruct->I2S_Standard = I2S_Standard_Phillips;
 318              		.loc 1 301 3 is_stmt 1 view .LVU92
 319              		.loc 1 301 32 is_stmt 0 view .LVU93
 320 0004 4380     		strh	r3, [r0, #2]
 302:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 303:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the I2S_DataFormat member */
 304:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   I2S_InitStruct->I2S_DataFormat = I2S_DataFormat_16b;
 321              		.loc 1 304 3 is_stmt 1 view .LVU94
 322              		.loc 1 304 34 is_stmt 0 view .LVU95
ARM GAS  /tmp/ccOEkdfP.s 			page 12


 323 0006 8380     		strh	r3, [r0, #4]
 305:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 306:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the I2S_MCLKOutput member */
 307:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   I2S_InitStruct->I2S_MCLKOutput = I2S_MCLKOutput_Disable;
 324              		.loc 1 307 3 is_stmt 1 view .LVU96
 325              		.loc 1 307 34 is_stmt 0 view .LVU97
 326 0008 C380     		strh	r3, [r0, #6]
 308:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 309:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the I2S_AudioFreq member */
 310:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   I2S_InitStruct->I2S_AudioFreq = I2S_AudioFreq_Default;
 327              		.loc 1 310 3 is_stmt 1 view .LVU98
 328              		.loc 1 310 33 is_stmt 0 view .LVU99
 329 000a 0222     		movs	r2, #2
 330 000c 8260     		str	r2, [r0, #8]
 311:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 312:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Initialize the I2S_CPOL member */
 313:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   I2S_InitStruct->I2S_CPOL = I2S_CPOL_Low;
 331              		.loc 1 313 3 is_stmt 1 view .LVU100
 332              		.loc 1 313 28 is_stmt 0 view .LVU101
 333 000e 8381     		strh	r3, [r0, #12]
 314:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 334              		.loc 1 314 1 view .LVU102
 335              		@ sp needed
 336 0010 7047     		bx	lr
 337              		.cfi_endproc
 338              	.LFE43:
 340              		.global	__aeabi_uidiv
 341              		.section	.text.I2S_Init,"ax",%progbits
 342              		.align	1
 343              		.global	I2S_Init
 344              		.syntax unified
 345              		.code	16
 346              		.thumb_func
 347              		.fpu softvfp
 349              	I2S_Init:
 350              	.LVL28:
 351              	.LFB44:
 315:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 316:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 317:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 318:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   parameters in the I2S_InitStruct.
 319:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 to select the SPI peripheral.
 320:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 321:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   contains the configuration information for the specified SPI peripheral
 322:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   configured in I2S mode.
 323:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note
 324:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *  The function calculates the optimal prescaler needed to obtain the most 
 325:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *  accurate audio frequency (depending on the I2S clock source, the PLL values 
 326:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *  and the product configuration). But in case the prescaler value is greater 
 327:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *  than 511, the default value (0x02) will be configured instead.     
 328:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 329:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 330:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void I2S_Init(SPI_TypeDef* SPIx, I2S_InitTypeDef* I2S_InitStruct)
 331:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 352              		.loc 1 331 1 is_stmt 1 view -0
 353              		.cfi_startproc
 354              		@ args = 0, pretend = 0, frame = 32
ARM GAS  /tmp/ccOEkdfP.s 			page 13


 355              		@ frame_needed = 0, uses_anonymous_args = 0
 356              		.loc 1 331 1 is_stmt 0 view .LVU104
 357 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 358              	.LCFI3:
 359              		.cfi_def_cfa_offset 20
 360              		.cfi_offset 4, -20
 361              		.cfi_offset 5, -16
 362              		.cfi_offset 6, -12
 363              		.cfi_offset 7, -8
 364              		.cfi_offset 14, -4
 365 0002 89B0     		sub	sp, sp, #36
 366              	.LCFI4:
 367              		.cfi_def_cfa_offset 56
 368 0004 0500     		movs	r5, r0
 369 0006 0C00     		movs	r4, r1
 332:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 370              		.loc 1 332 3 is_stmt 1 view .LVU105
 371              	.LVL29:
 333:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint32_t tmp = 0;
 372              		.loc 1 333 3 view .LVU106
 334:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   RCC_ClocksTypeDef RCC_Clocks;
 373              		.loc 1 334 3 view .LVU107
 335:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint32_t sourceclock = 0;
 374              		.loc 1 335 3 view .LVU108
 336:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 337:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the I2S parameters */
 338:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_1_PERIPH(SPIx));
 375              		.loc 1 338 3 view .LVU109
 339:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 376              		.loc 1 339 3 view .LVU110
 340:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 377              		.loc 1 340 3 view .LVU111
 341:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 378              		.loc 1 341 3 view .LVU112
 342:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_I2S_MCLK_OUTPUT(I2S_InitStruct->I2S_MCLKOutput));
 379              		.loc 1 342 3 view .LVU113
 343:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_I2S_AUDIO_FREQ(I2S_InitStruct->I2S_AudioFreq));
 380              		.loc 1 343 3 view .LVU114
 344:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 381              		.loc 1 344 3 view .LVU115
 345:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 346:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
 347:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 348:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->I2SCFGR &= I2SCFGR_CLEAR_Mask; 
 382              		.loc 1 348 3 view .LVU116
 383              		.loc 1 348 17 is_stmt 0 view .LVU117
 384 0008 838B     		ldrh	r3, [r0, #28]
 385 000a 294A     		ldr	r2, .L23
 386 000c 1340     		ands	r3, r2
 387 000e 8383     		strh	r3, [r0, #28]
 349:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->I2SPR = 0x0002;
 388              		.loc 1 349 3 is_stmt 1 view .LVU118
 389              		.loc 1 349 15 is_stmt 0 view .LVU119
 390 0010 0223     		movs	r3, #2
 391 0012 0384     		strh	r3, [r0, #32]
 350:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 351:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the I2SCFGR register value */
ARM GAS  /tmp/ccOEkdfP.s 			page 14


 352:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg = SPIx->I2SCFGR;
 392              		.loc 1 352 3 is_stmt 1 view .LVU120
 393              		.loc 1 352 10 is_stmt 0 view .LVU121
 394 0014 868B     		ldrh	r6, [r0, #28]
 395 0016 B6B2     		uxth	r6, r6
 396              	.LVL30:
 353:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 354:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* If the default value has to be written, reinitialize i2sdiv and i2sodd*/
 355:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if(I2S_InitStruct->I2S_AudioFreq == I2S_AudioFreq_Default)
 397              		.loc 1 355 3 is_stmt 1 view .LVU122
 398              		.loc 1 355 5 is_stmt 0 view .LVU123
 399 0018 8B68     		ldr	r3, [r1, #8]
 400 001a 022B     		cmp	r3, #2
 401 001c 45D0     		beq	.L19
 356:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 357:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     i2sodd = (uint16_t)0;
 358:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     i2sdiv = (uint16_t)2;   
 359:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 360:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* If the requested audio frequency is not the default, compute the prescaler */
 361:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 362:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 363:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Check the frame length (For the Prescaler computing) */
 364:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     if(I2S_InitStruct->I2S_DataFormat == I2S_DataFormat_16b)
 402              		.loc 1 364 5 is_stmt 1 view .LVU124
 403              		.loc 1 364 22 is_stmt 0 view .LVU125
 404 001e 8B88     		ldrh	r3, [r1, #4]
 405              		.loc 1 364 7 view .LVU126
 406 0020 002B     		cmp	r3, #0
 407 0022 36D1     		bne	.L20
 365:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     {
 366:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       /* Packet length is 16 bits */
 367:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       packetlength = 1;
 408              		.loc 1 367 20 view .LVU127
 409 0024 0127     		movs	r7, #1
 410              	.L15:
 411              	.LVL31:
 368:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 369:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     else
 370:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     {
 371:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       /* Packet length is 32 bits */
 372:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       packetlength = 2;
 373:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 374:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 375:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* I2S Clock source is System clock: Get System Clock frequency */
 376:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     RCC_GetClocksFreq(&RCC_Clocks);      
 412              		.loc 1 376 5 is_stmt 1 view .LVU128
 413 0026 01A8     		add	r0, sp, #4
 414              	.LVL32:
 415              		.loc 1 376 5 is_stmt 0 view .LVU129
 416 0028 FFF7FEFF 		bl	RCC_GetClocksFreq
 417              	.LVL33:
 377:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 378:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Get the source clock value: based on System Clock value */
 379:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     sourceclock = RCC_Clocks.SYSCLK_Frequency;    
 418              		.loc 1 379 5 is_stmt 1 view .LVU130
 419              		.loc 1 379 17 is_stmt 0 view .LVU131
 420 002c 0198     		ldr	r0, [sp, #4]
ARM GAS  /tmp/ccOEkdfP.s 			page 15


 421              	.LVL34:
 380:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 381:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Compute the Real divider depending on the MCLK output state with a floating point */
 382:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     if(I2S_InitStruct->I2S_MCLKOutput == I2S_MCLKOutput_Enable)
 422              		.loc 1 382 5 is_stmt 1 view .LVU132
 423              		.loc 1 382 22 is_stmt 0 view .LVU133
 424 002e E288     		ldrh	r2, [r4, #6]
 425              		.loc 1 382 7 view .LVU134
 426 0030 8023     		movs	r3, #128
 427 0032 9B00     		lsls	r3, r3, #2
 428 0034 9A42     		cmp	r2, r3
 429 0036 2ED0     		beq	.L22
 383:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     {
 384:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       /* MCLK output is enabled */
 385:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       tmp = (uint16_t)(((((sourceclock / 256) * 10) / I2S_InitStruct->I2S_AudioFreq)) + 5);
 386:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 387:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     else
 388:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     {
 389:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       /* MCLK output is disabled */
 390:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****       tmp = (uint16_t)(((((sourceclock / (32 * packetlength)) *10 ) / I2S_InitStruct->I2S_AudioFreq
 430              		.loc 1 390 7 is_stmt 1 view .LVU135
 431              		.loc 1 390 46 is_stmt 0 view .LVU136
 432 0038 7901     		lsls	r1, r7, #5
 433              		.loc 1 390 40 view .LVU137
 434 003a FFF7FEFF 		bl	__aeabi_uidiv
 435              	.LVL35:
 436              		.loc 1 390 40 view .LVU138
 437 003e 0300     		movs	r3, r0
 438              		.loc 1 390 63 view .LVU139
 439 0040 8000     		lsls	r0, r0, #2
 440 0042 C018     		adds	r0, r0, r3
 441 0044 4000     		lsls	r0, r0, #1
 442              		.loc 1 390 69 view .LVU140
 443 0046 A168     		ldr	r1, [r4, #8]
 444 0048 FFF7FEFF 		bl	__aeabi_uidiv
 445              	.LVL36:
 446              		.loc 1 390 13 view .LVU141
 447 004c 0530     		adds	r0, r0, #5
 448 004e 80B2     		uxth	r0, r0
 449              	.LVL37:
 450              	.L17:
 391:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 392:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     
 393:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Remove the floating point */
 394:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     tmp = tmp / 10;
 451              		.loc 1 394 5 is_stmt 1 view .LVU142
 452              		.loc 1 394 9 is_stmt 0 view .LVU143
 453 0050 0A21     		movs	r1, #10
 454 0052 FFF7FEFF 		bl	__aeabi_uidiv
 455              	.LVL38:
 395:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 396:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Check the parity of the divider */
 397:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     i2sodd = (uint16_t)(tmp & (uint16_t)0x0001);
 456              		.loc 1 397 5 is_stmt 1 view .LVU144
 457              		.loc 1 397 12 is_stmt 0 view .LVU145
 458 0056 0122     		movs	r2, #1
 459 0058 0240     		ands	r2, r0
ARM GAS  /tmp/ccOEkdfP.s 			page 16


 460              	.LVL39:
 398:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 399:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Compute the i2sdiv prescaler */
 400:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     i2sdiv = (uint16_t)((tmp - i2sodd) / 2);
 461              		.loc 1 400 5 is_stmt 1 view .LVU146
 462              		.loc 1 400 30 is_stmt 0 view .LVU147
 463 005a 831A     		subs	r3, r0, r2
 464              		.loc 1 400 40 view .LVU148
 465 005c 5B08     		lsrs	r3, r3, #1
 466              		.loc 1 400 12 view .LVU149
 467 005e 9BB2     		uxth	r3, r3
 468              	.LVL40:
 401:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 402:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Get the Mask for the Odd bit (SPI_I2SPR[8]) register */
 403:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     i2sodd = (uint16_t) (i2sodd << 8);
 469              		.loc 1 403 5 is_stmt 1 view .LVU150
 470              		.loc 1 403 12 is_stmt 0 view .LVU151
 471 0060 1202     		lsls	r2, r2, #8
 472              	.LVL41:
 473              	.L14:
 404:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 405:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 406:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Test if the divider is 1 or 0 or greater than 0xFF */
 407:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if ((i2sdiv < 2) || (i2sdiv > 0xFF))
 474              		.loc 1 407 3 is_stmt 1 view .LVU152
 475              		.loc 1 407 20 is_stmt 0 view .LVU153
 476 0062 991E     		subs	r1, r3, #2
 477 0064 89B2     		uxth	r1, r1
 478              		.loc 1 407 6 view .LVU154
 479 0066 FD29     		cmp	r1, #253
 480 0068 01D9     		bls	.L18
 408:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 409:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Set the default values */
 410:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     i2sdiv = 2;
 411:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     i2sodd = 0;
 481              		.loc 1 411 12 view .LVU155
 482 006a 0022     		movs	r2, #0
 483              	.LVL42:
 410:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     i2sodd = 0;
 484              		.loc 1 410 12 view .LVU156
 485 006c 0223     		movs	r3, #2
 486              	.LVL43:
 487              	.L18:
 412:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 413:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 414:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Write to SPIx I2SPR register the computed value */
 415:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->I2SPR = (uint16_t)(i2sdiv | (uint16_t)(i2sodd | (uint16_t)I2S_InitStruct->I2S_MCLKOutput));
 488              		.loc 1 415 3 is_stmt 1 view .LVU157
 489              		.loc 1 415 81 is_stmt 0 view .LVU158
 490 006e E088     		ldrh	r0, [r4, #6]
 491              		.loc 1 415 37 view .LVU159
 492 0070 1043     		orrs	r0, r2
 493              		.loc 1 415 17 view .LVU160
 494 0072 0343     		orrs	r3, r0
 495              	.LVL44:
 496              		.loc 1 415 15 view .LVU161
 497 0074 2B84     		strh	r3, [r5, #32]
ARM GAS  /tmp/ccOEkdfP.s 			page 17


 416:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 417:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 418:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg |= (uint16_t)(SPI_I2SCFGR_I2SMOD | (uint16_t)(I2S_InitStruct->I2S_Mode | \
 498              		.loc 1 418 3 is_stmt 1 view .LVU162
 499              		.loc 1 418 70 is_stmt 0 view .LVU163
 500 0076 2388     		ldrh	r3, [r4]
 419:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 501              		.loc 1 419 44 view .LVU164
 502 0078 6288     		ldrh	r2, [r4, #2]
 503              	.LVL45:
 504              		.loc 1 419 86 view .LVU165
 505 007a A188     		ldrh	r1, [r4, #4]
 420:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 506              		.loc 1 420 43 view .LVU166
 507 007c A089     		ldrh	r0, [r4, #12]
 419:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 508              		.loc 1 419 61 view .LVU167
 509 007e 0143     		orrs	r1, r0
 419:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 510              		.loc 1 419 19 view .LVU168
 511 0080 0A43     		orrs	r2, r1
 418:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 512              		.loc 1 418 45 view .LVU169
 513 0082 1343     		orrs	r3, r2
 418:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 514              		.loc 1 418 10 view .LVU170
 515 0084 3343     		orrs	r3, r6
 516 0086 8022     		movs	r2, #128
 517 0088 1201     		lsls	r2, r2, #4
 518 008a 1343     		orrs	r3, r2
 519              	.LVL46:
 421:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 422:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Write to SPIx I2SCFGR */
 423:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->I2SCFGR = tmpreg;
 520              		.loc 1 423 3 is_stmt 1 view .LVU171
 521              		.loc 1 423 17 is_stmt 0 view .LVU172
 522 008c AB83     		strh	r3, [r5, #28]
 424:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 523              		.loc 1 424 1 view .LVU173
 524 008e 09B0     		add	sp, sp, #36
 525              		@ sp needed
 526              	.LVL47:
 527              	.LVL48:
 528              		.loc 1 424 1 view .LVU174
 529 0090 F0BD     		pop	{r4, r5, r6, r7, pc}
 530              	.LVL49:
 531              	.L20:
 372:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 532              		.loc 1 372 20 view .LVU175
 533 0092 0227     		movs	r7, #2
 534 0094 C7E7     		b	.L15
 535              	.LVL50:
 536              	.L22:
 385:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 537              		.loc 1 385 7 is_stmt 1 view .LVU176
 385:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 538              		.loc 1 385 40 is_stmt 0 view .LVU177
ARM GAS  /tmp/ccOEkdfP.s 			page 18


 539 0096 000A     		lsrs	r0, r0, #8
 540              	.LVL51:
 385:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 541              		.loc 1 385 47 view .LVU178
 542 0098 8300     		lsls	r3, r0, #2
 543 009a 1818     		adds	r0, r3, r0
 544 009c 4000     		lsls	r0, r0, #1
 385:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 545              		.loc 1 385 53 view .LVU179
 546 009e A168     		ldr	r1, [r4, #8]
 547 00a0 FFF7FEFF 		bl	__aeabi_uidiv
 548              	.LVL52:
 385:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 549              		.loc 1 385 13 view .LVU180
 550 00a4 0530     		adds	r0, r0, #5
 551 00a6 80B2     		uxth	r0, r0
 552              	.LVL53:
 385:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     }
 553              		.loc 1 385 13 view .LVU181
 554 00a8 D2E7     		b	.L17
 555              	.LVL54:
 556              	.L19:
 357:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     i2sdiv = (uint16_t)2;   
 557              		.loc 1 357 12 view .LVU182
 558 00aa 0022     		movs	r2, #0
 358:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 559              		.loc 1 358 12 view .LVU183
 560 00ac 0223     		movs	r3, #2
 561 00ae D8E7     		b	.L14
 562              	.L24:
 563              		.align	2
 564              	.L23:
 565 00b0 40F0FFFF 		.word	-4032
 566              		.cfi_endproc
 567              	.LFE44:
 569              		.section	.text.SPI_Cmd,"ax",%progbits
 570              		.align	1
 571              		.global	SPI_Cmd
 572              		.syntax unified
 573              		.code	16
 574              		.thumb_func
 575              		.fpu softvfp
 577              	SPI_Cmd:
 578              	.LVL55:
 579              	.LFB45:
 425:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 426:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 427:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Enables or disables the specified SPI peripheral.
 428:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 429:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 430:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         This parameter can be: ENABLE or DISABLE.
 431:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 432:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 433:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 434:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 580              		.loc 1 434 1 is_stmt 1 view -0
 581              		.cfi_startproc
ARM GAS  /tmp/ccOEkdfP.s 			page 19


 582              		@ args = 0, pretend = 0, frame = 0
 583              		@ frame_needed = 0, uses_anonymous_args = 0
 584              		@ link register save eliminated.
 435:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 436:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 585              		.loc 1 436 3 view .LVU185
 437:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 586              		.loc 1 437 3 view .LVU186
 438:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 439:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (NewState != DISABLE)
 587              		.loc 1 439 3 view .LVU187
 588              		.loc 1 439 6 is_stmt 0 view .LVU188
 589 0000 0029     		cmp	r1, #0
 590 0002 04D0     		beq	.L26
 440:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 441:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Enable the selected SPI peripheral */
 442:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR1 |= SPI_CR1_SPE;
 591              		.loc 1 442 5 is_stmt 1 view .LVU189
 592              		.loc 1 442 15 is_stmt 0 view .LVU190
 593 0004 0388     		ldrh	r3, [r0]
 594 0006 4022     		movs	r2, #64
 595 0008 1343     		orrs	r3, r2
 596 000a 0380     		strh	r3, [r0]
 597              	.L25:
 443:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 444:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 445:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 446:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Disable the selected SPI peripheral */
 447:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR1 &= (uint16_t)~((uint16_t)SPI_CR1_SPE);
 448:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 449:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 598              		.loc 1 449 1 view .LVU191
 599              		@ sp needed
 600 000c 7047     		bx	lr
 601              	.L26:
 447:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 602              		.loc 1 447 5 is_stmt 1 view .LVU192
 447:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 603              		.loc 1 447 15 is_stmt 0 view .LVU193
 604 000e 0388     		ldrh	r3, [r0]
 605 0010 4022     		movs	r2, #64
 606 0012 9343     		bics	r3, r2
 607 0014 0380     		strh	r3, [r0]
 608              		.loc 1 449 1 view .LVU194
 609 0016 F9E7     		b	.L25
 610              		.cfi_endproc
 611              	.LFE45:
 613              		.section	.text.SPI_TIModeCmd,"ax",%progbits
 614              		.align	1
 615              		.global	SPI_TIModeCmd
 616              		.syntax unified
 617              		.code	16
 618              		.thumb_func
 619              		.fpu softvfp
 621              	SPI_TIModeCmd:
 622              	.LVL56:
 623              	.LFB46:
ARM GAS  /tmp/ccOEkdfP.s 			page 20


 450:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 451:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 452:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Enables or disables the TI Mode.
 453:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note     This function can be called only after the SPI_Init() function has 
 454:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           been called. 
 455:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note     When TI mode is selected, the control bits SSM, SSI, CPOL and CPHA 
 456:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           are not taken into consideration and are configured by hardware 
 457:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           respectively to the TI mode requirements.  
 458:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 to select the SPI peripheral.
 459:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  NewState: new state of the selected SPI TI communication mode.
 460:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         This parameter can be: ENABLE or DISABLE.
 461:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 462:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 463:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_TIModeCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 464:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 624              		.loc 1 464 1 is_stmt 1 view -0
 625              		.cfi_startproc
 626              		@ args = 0, pretend = 0, frame = 0
 627              		@ frame_needed = 0, uses_anonymous_args = 0
 628              		@ link register save eliminated.
 465:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 466:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_1_PERIPH(SPIx));
 629              		.loc 1 466 3 view .LVU196
 467:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 630              		.loc 1 467 3 view .LVU197
 468:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 469:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (NewState != DISABLE)
 631              		.loc 1 469 3 view .LVU198
 632              		.loc 1 469 6 is_stmt 0 view .LVU199
 633 0000 0029     		cmp	r1, #0
 634 0002 04D0     		beq	.L29
 470:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 471:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Enable the TI mode for the selected SPI peripheral */
 472:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 |= SPI_CR2_FRF;
 635              		.loc 1 472 5 is_stmt 1 view .LVU200
 636              		.loc 1 472 15 is_stmt 0 view .LVU201
 637 0004 8388     		ldrh	r3, [r0, #4]
 638 0006 1022     		movs	r2, #16
 639 0008 1343     		orrs	r3, r2
 640 000a 8380     		strh	r3, [r0, #4]
 641              	.L28:
 473:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 474:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 475:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 476:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Disable the TI mode for the selected SPI peripheral */
 477:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 &= (uint16_t)~((uint16_t)SPI_CR2_FRF);
 478:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 479:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 642              		.loc 1 479 1 view .LVU202
 643              		@ sp needed
 644 000c 7047     		bx	lr
 645              	.L29:
 477:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 646              		.loc 1 477 5 is_stmt 1 view .LVU203
 477:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 647              		.loc 1 477 15 is_stmt 0 view .LVU204
 648 000e 8388     		ldrh	r3, [r0, #4]
ARM GAS  /tmp/ccOEkdfP.s 			page 21


 649 0010 1022     		movs	r2, #16
 650 0012 9343     		bics	r3, r2
 651 0014 8380     		strh	r3, [r0, #4]
 652              		.loc 1 479 1 view .LVU205
 653 0016 F9E7     		b	.L28
 654              		.cfi_endproc
 655              	.LFE46:
 657              		.section	.text.I2S_Cmd,"ax",%progbits
 658              		.align	1
 659              		.global	I2S_Cmd
 660              		.syntax unified
 661              		.code	16
 662              		.thumb_func
 663              		.fpu softvfp
 665              	I2S_Cmd:
 666              	.LVL57:
 667              	.LFB47:
 480:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 481:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 482:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Enables or disables the specified SPI peripheral (in I2S mode).
 483:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 to select the SPI peripheral.
 484:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 485:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 486:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 487:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 488:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void I2S_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 489:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 668              		.loc 1 489 1 is_stmt 1 view -0
 669              		.cfi_startproc
 670              		@ args = 0, pretend = 0, frame = 0
 671              		@ frame_needed = 0, uses_anonymous_args = 0
 672              		@ link register save eliminated.
 490:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 491:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_1_PERIPH(SPIx));
 673              		.loc 1 491 3 view .LVU207
 492:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 674              		.loc 1 492 3 view .LVU208
 493:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (NewState != DISABLE)
 675              		.loc 1 493 3 view .LVU209
 676              		.loc 1 493 6 is_stmt 0 view .LVU210
 677 0000 0029     		cmp	r1, #0
 678 0002 05D0     		beq	.L32
 494:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 495:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Enable the selected SPI peripheral in I2S mode */
 496:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->I2SCFGR |= SPI_I2SCFGR_I2SE;
 679              		.loc 1 496 5 is_stmt 1 view .LVU211
 680              		.loc 1 496 19 is_stmt 0 view .LVU212
 681 0004 838B     		ldrh	r3, [r0, #28]
 682 0006 8022     		movs	r2, #128
 683 0008 D200     		lsls	r2, r2, #3
 684 000a 1343     		orrs	r3, r2
 685 000c 8383     		strh	r3, [r0, #28]
 686              	.L31:
 497:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 498:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 499:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 500:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Disable the selected SPI peripheral in I2S mode */
ARM GAS  /tmp/ccOEkdfP.s 			page 22


 501:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->I2SCFGR &= (uint16_t)~((uint16_t)SPI_I2SCFGR_I2SE);
 502:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 503:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 687              		.loc 1 503 1 view .LVU213
 688              		@ sp needed
 689 000e 7047     		bx	lr
 690              	.L32:
 501:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 691              		.loc 1 501 5 is_stmt 1 view .LVU214
 501:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 692              		.loc 1 501 19 is_stmt 0 view .LVU215
 693 0010 838B     		ldrh	r3, [r0, #28]
 694 0012 024A     		ldr	r2, .L34
 695 0014 1340     		ands	r3, r2
 696 0016 8383     		strh	r3, [r0, #28]
 697              		.loc 1 503 1 view .LVU216
 698 0018 F9E7     		b	.L31
 699              	.L35:
 700 001a C046     		.align	2
 701              	.L34:
 702 001c FFFBFFFF 		.word	-1025
 703              		.cfi_endproc
 704              	.LFE47:
 706              		.section	.text.SPI_DataSizeConfig,"ax",%progbits
 707              		.align	1
 708              		.global	SPI_DataSizeConfig
 709              		.syntax unified
 710              		.code	16
 711              		.thumb_func
 712              		.fpu softvfp
 714              	SPI_DataSizeConfig:
 715              	.LVL58:
 716              	.LFB48:
 504:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 505:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 506:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Configures the data size for the selected SPI.
 507:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2  to select the SPI peripheral.
 508:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_DataSize: specifies the SPI data size.
 509:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   For the SPIx peripheral this parameter can be one of the following values:
 510:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_4b: Set data size to 4 bits
 511:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_5b: Set data size to 5 bits
 512:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_6b: Set data size to 6 bits
 513:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_7b: Set data size to 7 bits
 514:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_8b: Set data size to 8 bits
 515:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_9b: Set data size to 9 bits
 516:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_10b: Set data size to 10 bits
 517:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_11b: Set data size to 11 bits
 518:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_12b: Set data size to 12 bits
 519:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_13b: Set data size to 13 bits
 520:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_14b: Set data size to 14 bits
 521:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_15b: Set data size to 15 bits
 522:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_DataSize_16b: Set data size to 16 bits
 523:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 524:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 525:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_DataSizeConfig(SPI_TypeDef* SPIx, uint16_t SPI_DataSize)
 526:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 717              		.loc 1 526 1 is_stmt 1 view -0
ARM GAS  /tmp/ccOEkdfP.s 			page 23


 718              		.cfi_startproc
 719              		@ args = 0, pretend = 0, frame = 0
 720              		@ frame_needed = 0, uses_anonymous_args = 0
 721              		@ link register save eliminated.
 527:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint16_t tmpreg = 0;
 722              		.loc 1 527 3 view .LVU218
 528:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 529:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 530:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 723              		.loc 1 530 3 view .LVU219
 531:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_DATA_SIZE(SPI_DataSize));
 724              		.loc 1 531 3 view .LVU220
 532:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Read the CR2 register */
 533:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg = SPIx->CR2;
 725              		.loc 1 533 3 view .LVU221
 726              		.loc 1 533 10 is_stmt 0 view .LVU222
 727 0000 8388     		ldrh	r3, [r0, #4]
 728              	.LVL59:
 534:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Clear DS[3:0] bits */
 535:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg &= (uint16_t)~SPI_CR2_DS;
 729              		.loc 1 535 3 is_stmt 1 view .LVU223
 730              		.loc 1 535 10 is_stmt 0 view .LVU224
 731 0002 024A     		ldr	r2, .L37
 732 0004 1340     		ands	r3, r2
 733              	.LVL60:
 536:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set new DS[3:0] bits value */
 537:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   tmpreg |= SPI_DataSize;
 734              		.loc 1 537 3 is_stmt 1 view .LVU225
 735              		.loc 1 537 10 is_stmt 0 view .LVU226
 736 0006 0B43     		orrs	r3, r1
 737              	.LVL61:
 538:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR2 = tmpreg;
 738              		.loc 1 538 3 is_stmt 1 view .LVU227
 739              		.loc 1 538 13 is_stmt 0 view .LVU228
 740 0008 8380     		strh	r3, [r0, #4]
 539:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 741              		.loc 1 539 1 view .LVU229
 742              		@ sp needed
 743 000a 7047     		bx	lr
 744              	.L38:
 745              		.align	2
 746              	.L37:
 747 000c FFF0FFFF 		.word	-3841
 748              		.cfi_endproc
 749              	.LFE48:
 751              		.section	.text.SPI_RxFIFOThresholdConfig,"ax",%progbits
 752              		.align	1
 753              		.global	SPI_RxFIFOThresholdConfig
 754              		.syntax unified
 755              		.code	16
 756              		.thumb_func
 757              		.fpu softvfp
 759              	SPI_RxFIFOThresholdConfig:
 760              	.LVL62:
 761              	.LFB49:
 540:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 541:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
ARM GAS  /tmp/ccOEkdfP.s 			page 24


 542:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Configures the FIFO reception threshold for the selected SPI.
 543:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 544:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_RxFIFOThreshold: specifies the FIFO reception threshold.
 545:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be one of the following values:
 546:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_RxFIFOThreshold_HF: RXNE event is generated if the FIFO 
 547:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *          level is greater or equal to 1/2. 
 548:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_RxFIFOThreshold_QF: RXNE event is generated if the FIFO 
 549:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *          level is greater or equal to 1/4. 
 550:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 551:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 552:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_RxFIFOThresholdConfig(SPI_TypeDef* SPIx, uint16_t SPI_RxFIFOThreshold)
 553:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 762              		.loc 1 553 1 is_stmt 1 view -0
 763              		.cfi_startproc
 764              		@ args = 0, pretend = 0, frame = 0
 765              		@ frame_needed = 0, uses_anonymous_args = 0
 766              		@ link register save eliminated.
 554:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 555:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 767              		.loc 1 555 3 view .LVU231
 556:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_RX_FIFO_THRESHOLD(SPI_RxFIFOThreshold));
 768              		.loc 1 556 3 view .LVU232
 557:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 558:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Clear FRXTH bit */
 559:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR2 &= (uint16_t)~((uint16_t)SPI_CR2_FRXTH);
 769              		.loc 1 559 3 view .LVU233
 770              		.loc 1 559 13 is_stmt 0 view .LVU234
 771 0000 8288     		ldrh	r2, [r0, #4]
 772 0002 034B     		ldr	r3, .L40
 773 0004 1A40     		ands	r2, r3
 774 0006 8280     		strh	r2, [r0, #4]
 560:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 561:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set new FRXTH bit value */
 562:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR2 |= SPI_RxFIFOThreshold;
 775              		.loc 1 562 3 is_stmt 1 view .LVU235
 776              		.loc 1 562 13 is_stmt 0 view .LVU236
 777 0008 8388     		ldrh	r3, [r0, #4]
 778 000a 0B43     		orrs	r3, r1
 779 000c 8380     		strh	r3, [r0, #4]
 563:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 780              		.loc 1 563 1 view .LVU237
 781              		@ sp needed
 782 000e 7047     		bx	lr
 783              	.L41:
 784              		.align	2
 785              	.L40:
 786 0010 FFEFFFFF 		.word	-4097
 787              		.cfi_endproc
 788              	.LFE49:
 790              		.section	.text.SPI_BiDirectionalLineConfig,"ax",%progbits
 791              		.align	1
 792              		.global	SPI_BiDirectionalLineConfig
 793              		.syntax unified
 794              		.code	16
 795              		.thumb_func
 796              		.fpu softvfp
 798              	SPI_BiDirectionalLineConfig:
ARM GAS  /tmp/ccOEkdfP.s 			page 25


 799              	.LVL63:
 800              	.LFB50:
 564:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 565:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 566:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Selects the data transfer direction in bidirectional mode for the specified SPI.
 567:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2  to select the SPI peripheral.
 568:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_Direction: specifies the data transfer direction in bidirectional mode. 
 569:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be one of the following values:
 570:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_Direction_Tx: Selects Tx transmission direction
 571:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_Direction_Rx: Selects Rx receive direction
 572:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 573:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 574:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_BiDirectionalLineConfig(SPI_TypeDef* SPIx, uint16_t SPI_Direction)
 575:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 801              		.loc 1 575 1 is_stmt 1 view -0
 802              		.cfi_startproc
 803              		@ args = 0, pretend = 0, frame = 0
 804              		@ frame_needed = 0, uses_anonymous_args = 0
 805              		@ link register save eliminated.
 576:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 577:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 806              		.loc 1 577 3 view .LVU239
 578:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_DIRECTION(SPI_Direction));
 807              		.loc 1 578 3 view .LVU240
 579:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (SPI_Direction == SPI_Direction_Tx)
 808              		.loc 1 579 3 view .LVU241
 809              		.loc 1 579 6 is_stmt 0 view .LVU242
 810 0000 8023     		movs	r3, #128
 811 0002 DB01     		lsls	r3, r3, #7
 812 0004 9942     		cmp	r1, r3
 813 0006 04D0     		beq	.L45
 580:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 581:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Set the Tx only mode */
 582:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR1 |= SPI_Direction_Tx;
 583:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 584:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 585:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 586:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Set the Rx only mode */
 587:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR1 &= SPI_Direction_Rx;
 814              		.loc 1 587 5 is_stmt 1 view .LVU243
 815              		.loc 1 587 15 is_stmt 0 view .LVU244
 816 0008 0388     		ldrh	r3, [r0]
 817 000a 054A     		ldr	r2, .L46
 818 000c 1340     		ands	r3, r2
 819 000e 0380     		strh	r3, [r0]
 820              	.L42:
 588:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 589:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 821              		.loc 1 589 1 view .LVU245
 822              		@ sp needed
 823 0010 7047     		bx	lr
 824              	.L45:
 582:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 825              		.loc 1 582 5 is_stmt 1 view .LVU246
 582:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 826              		.loc 1 582 15 is_stmt 0 view .LVU247
 827 0012 0388     		ldrh	r3, [r0]
ARM GAS  /tmp/ccOEkdfP.s 			page 26


 828 0014 8022     		movs	r2, #128
 829 0016 D201     		lsls	r2, r2, #7
 830 0018 1343     		orrs	r3, r2
 831 001a 0380     		strh	r3, [r0]
 832 001c F8E7     		b	.L42
 833              	.L47:
 834 001e C046     		.align	2
 835              	.L46:
 836 0020 FFBFFFFF 		.word	-16385
 837              		.cfi_endproc
 838              	.LFE50:
 840              		.section	.text.SPI_NSSInternalSoftwareConfig,"ax",%progbits
 841              		.align	1
 842              		.global	SPI_NSSInternalSoftwareConfig
 843              		.syntax unified
 844              		.code	16
 845              		.thumb_func
 846              		.fpu softvfp
 848              	SPI_NSSInternalSoftwareConfig:
 849              	.LVL64:
 850              	.LFB51:
 590:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 591:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 592:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Configures internally by software the NSS pin for the selected SPI.
 593:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note   - This function can be called only after the SPI_Init() function has 
 594:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           been called.  
 595:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 596:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_NSSInternalSoft: specifies the SPI NSS internal state.
 597:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be one of the following values:
 598:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_NSSInternalSoft_Set: Set NSS pin internally
 599:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_NSSInternalSoft_Reset: Reset NSS pin internally
 600:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 601:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 602:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_NSSInternalSoftwareConfig(SPI_TypeDef* SPIx, uint16_t SPI_NSSInternalSoft)
 603:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 851              		.loc 1 603 1 is_stmt 1 view -0
 852              		.cfi_startproc
 853              		@ args = 0, pretend = 0, frame = 0
 854              		@ frame_needed = 0, uses_anonymous_args = 0
 855              		@ link register save eliminated.
 604:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 605:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 856              		.loc 1 605 3 view .LVU249
 606:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_NSS_INTERNAL(SPI_NSSInternalSoft));
 857              		.loc 1 606 3 view .LVU250
 607:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 608:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (SPI_NSSInternalSoft != SPI_NSSInternalSoft_Reset)
 858              		.loc 1 608 3 view .LVU251
 859              		.loc 1 608 6 is_stmt 0 view .LVU252
 860 0000 064B     		ldr	r3, .L51
 861 0002 9942     		cmp	r1, r3
 862 0004 05D0     		beq	.L49
 609:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 610:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Set NSS pin internally by software */
 611:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR1 |= SPI_NSSInternalSoft_Set;
 863              		.loc 1 611 5 is_stmt 1 view .LVU253
 864              		.loc 1 611 15 is_stmt 0 view .LVU254
ARM GAS  /tmp/ccOEkdfP.s 			page 27


 865 0006 0388     		ldrh	r3, [r0]
 866 0008 8022     		movs	r2, #128
 867 000a 5200     		lsls	r2, r2, #1
 868 000c 1343     		orrs	r3, r2
 869 000e 0380     		strh	r3, [r0]
 870              	.L48:
 612:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 613:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 614:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 615:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Reset NSS pin internally by software */
 616:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR1 &= SPI_NSSInternalSoft_Reset;
 617:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 618:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 871              		.loc 1 618 1 view .LVU255
 872              		@ sp needed
 873 0010 7047     		bx	lr
 874              	.L49:
 616:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 875              		.loc 1 616 5 is_stmt 1 view .LVU256
 616:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 876              		.loc 1 616 15 is_stmt 0 view .LVU257
 877 0012 0388     		ldrh	r3, [r0]
 878 0014 024A     		ldr	r2, .L51+4
 879 0016 1340     		ands	r3, r2
 880 0018 0380     		strh	r3, [r0]
 881              		.loc 1 618 1 view .LVU258
 882 001a F9E7     		b	.L48
 883              	.L52:
 884              		.align	2
 885              	.L51:
 886 001c FFFE0000 		.word	65279
 887 0020 FFFEFFFF 		.word	-257
 888              		.cfi_endproc
 889              	.LFE51:
 891              		.section	.text.SPI_SSOutputCmd,"ax",%progbits
 892              		.align	1
 893              		.global	SPI_SSOutputCmd
 894              		.syntax unified
 895              		.code	16
 896              		.thumb_func
 897              		.fpu softvfp
 899              	SPI_SSOutputCmd:
 900              	.LVL65:
 901              	.LFB52:
 619:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 620:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 621:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Enables or disables the SS output for the selected SPI.
 622:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note   - This function can be called only after the SPI_Init() function has 
 623:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           been called and the NSS hardware management mode is selected. 
 624:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 625:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  NewState: new state of the SPIx SS output. 
 626:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         This parameter can be: ENABLE or DISABLE.
 627:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 628:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 629:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_SSOutputCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 630:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 902              		.loc 1 630 1 is_stmt 1 view -0
ARM GAS  /tmp/ccOEkdfP.s 			page 28


 903              		.cfi_startproc
 904              		@ args = 0, pretend = 0, frame = 0
 905              		@ frame_needed = 0, uses_anonymous_args = 0
 906              		@ link register save eliminated.
 631:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 632:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 907              		.loc 1 632 3 view .LVU260
 633:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 908              		.loc 1 633 3 view .LVU261
 634:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (NewState != DISABLE)
 909              		.loc 1 634 3 view .LVU262
 910              		.loc 1 634 6 is_stmt 0 view .LVU263
 911 0000 0029     		cmp	r1, #0
 912 0002 04D0     		beq	.L54
 635:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 636:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Enable the selected SPI SS output */
 637:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 |= SPI_CR2_SSOE;
 913              		.loc 1 637 5 is_stmt 1 view .LVU264
 914              		.loc 1 637 15 is_stmt 0 view .LVU265
 915 0004 8388     		ldrh	r3, [r0, #4]
 916 0006 0422     		movs	r2, #4
 917 0008 1343     		orrs	r3, r2
 918 000a 8380     		strh	r3, [r0, #4]
 919              	.L53:
 638:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 639:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 640:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 641:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Disable the selected SPI SS output */
 642:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 &= (uint16_t)~((uint16_t)SPI_CR2_SSOE);
 643:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 644:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 920              		.loc 1 644 1 view .LVU266
 921              		@ sp needed
 922 000c 7047     		bx	lr
 923              	.L54:
 642:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 924              		.loc 1 642 5 is_stmt 1 view .LVU267
 642:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 925              		.loc 1 642 15 is_stmt 0 view .LVU268
 926 000e 8388     		ldrh	r3, [r0, #4]
 927 0010 0422     		movs	r2, #4
 928 0012 9343     		bics	r3, r2
 929 0014 8380     		strh	r3, [r0, #4]
 930              		.loc 1 644 1 view .LVU269
 931 0016 F9E7     		b	.L53
 932              		.cfi_endproc
 933              	.LFE52:
 935              		.section	.text.SPI_NSSPulseModeCmd,"ax",%progbits
 936              		.align	1
 937              		.global	SPI_NSSPulseModeCmd
 938              		.syntax unified
 939              		.code	16
 940              		.thumb_func
 941              		.fpu softvfp
 943              	SPI_NSSPulseModeCmd:
 944              	.LVL66:
 945              	.LFB53:
ARM GAS  /tmp/ccOEkdfP.s 			page 29


 645:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 646:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 647:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Enables or disables the NSS pulse management mode.
 648:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note     This function can be called only after the SPI_Init() function has 
 649:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           been called. 
 650:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note     When TI mode is selected, the control bits NSSP is not taken into 
 651:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           consideration and are configured by hardware respectively to the 
 652:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           TI mode requirements. 
 653:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 654:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  NewState: new state of the NSS pulse management mode.
 655:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         This parameter can be: ENABLE or DISABLE.
 656:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 657:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 658:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_NSSPulseModeCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 659:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 946              		.loc 1 659 1 is_stmt 1 view -0
 947              		.cfi_startproc
 948              		@ args = 0, pretend = 0, frame = 0
 949              		@ frame_needed = 0, uses_anonymous_args = 0
 950              		@ link register save eliminated.
 660:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 661:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 951              		.loc 1 661 3 view .LVU271
 662:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 952              		.loc 1 662 3 view .LVU272
 663:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 664:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (NewState != DISABLE)
 953              		.loc 1 664 3 view .LVU273
 954              		.loc 1 664 6 is_stmt 0 view .LVU274
 955 0000 0029     		cmp	r1, #0
 956 0002 04D0     		beq	.L57
 665:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 666:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Enable the NSS pulse management mode */
 667:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 |= SPI_CR2_NSSP;
 957              		.loc 1 667 5 is_stmt 1 view .LVU275
 958              		.loc 1 667 15 is_stmt 0 view .LVU276
 959 0004 8388     		ldrh	r3, [r0, #4]
 960 0006 0822     		movs	r2, #8
 961 0008 1343     		orrs	r3, r2
 962 000a 8380     		strh	r3, [r0, #4]
 963              	.L56:
 668:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 669:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 670:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 671:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Disable the NSS pulse management mode */
 672:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 &= (uint16_t)~((uint16_t)SPI_CR2_NSSP);    
 673:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 674:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 964              		.loc 1 674 1 view .LVU277
 965              		@ sp needed
 966 000c 7047     		bx	lr
 967              	.L57:
 672:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 968              		.loc 1 672 5 is_stmt 1 view .LVU278
 672:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 969              		.loc 1 672 15 is_stmt 0 view .LVU279
 970 000e 8388     		ldrh	r3, [r0, #4]
ARM GAS  /tmp/ccOEkdfP.s 			page 30


 971 0010 0822     		movs	r2, #8
 972 0012 9343     		bics	r3, r2
 973 0014 8380     		strh	r3, [r0, #4]
 974              		.loc 1 674 1 view .LVU280
 975 0016 F9E7     		b	.L56
 976              		.cfi_endproc
 977              	.LFE53:
 979              		.section	.text.SPI_SendData8,"ax",%progbits
 980              		.align	1
 981              		.global	SPI_SendData8
 982              		.syntax unified
 983              		.code	16
 984              		.thumb_func
 985              		.fpu softvfp
 987              	SPI_SendData8:
 988              	.LVL67:
 989              	.LFB54:
 675:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 676:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 677:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @}
 678:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 679:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 680:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /** @defgroup SPI_Group2 Data transfers functions
 681:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  *  @brief   Data transfers functions
 682:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  *
 683:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @verbatim
 684:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
 685:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                     ##### Data transfers functions #####
 686:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
 687:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] This section provides a set of functions allowing to manage the SPI or I2S
 688:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          data transfers.
 689:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 690:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] In reception, data are received and then stored into an internal Rx buffer while 
 691:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          In transmission, data are first stored into an internal Tx buffer before being 
 692:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          transmitted.
 693:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 694:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] The read access of the SPI_DR register can be done using 
 695:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          SPI_ReceiveData8() (when data size is equal or inferior than 8bits) and.
 696:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          SPI_I2S_ReceiveData16() (when data size is superior than 8bits)function
 697:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          and returns the Rx buffered value. Whereas a write access to the SPI_DR 
 698:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          can be done using SPI_SendData8() (when data size is equal or inferior than 8bits)
 699:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          and SPI_I2S_SendData16() (when data size is superior than 8bits) function 
 700:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          and stores the written data into Tx buffer.
 701:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 702:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @endverbatim
 703:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @{
 704:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 705:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 706:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 707:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Transmits a Data through the SPIx/I2Sx peripheral.
 708:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 in SPI mode to select the SPI peripheral.
 709:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  Data: Data to be transmitted.
 710:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 711:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 712:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_SendData8(SPI_TypeDef* SPIx, uint8_t Data)
 713:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 990              		.loc 1 713 1 is_stmt 1 view -0
ARM GAS  /tmp/ccOEkdfP.s 			page 31


 991              		.cfi_startproc
 992              		@ args = 0, pretend = 0, frame = 0
 993              		@ frame_needed = 0, uses_anonymous_args = 0
 994              		@ link register save eliminated.
 714:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint32_t spixbase = 0x00;
 995              		.loc 1 714 3 view .LVU282
 715:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 716:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 717:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 996              		.loc 1 717 3 view .LVU283
 718:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 719:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   spixbase = (uint32_t)SPIx; 
 997              		.loc 1 719 3 view .LVU284
 720:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   spixbase += 0x0C;
 998              		.loc 1 720 3 view .LVU285
 721:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 722:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *(__IO uint8_t *) spixbase = Data;
 999              		.loc 1 722 3 view .LVU286
 1000              		.loc 1 722 30 is_stmt 0 view .LVU287
 1001 0000 0173     		strb	r1, [r0, #12]
 723:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1002              		.loc 1 723 1 view .LVU288
 1003              		@ sp needed
 1004 0002 7047     		bx	lr
 1005              		.cfi_endproc
 1006              	.LFE54:
 1008              		.section	.text.SPI_I2S_SendData16,"ax",%progbits
 1009              		.align	1
 1010              		.global	SPI_I2S_SendData16
 1011              		.syntax unified
 1012              		.code	16
 1013              		.thumb_func
 1014              		.fpu softvfp
 1016              	SPI_I2S_SendData16:
 1017              	.LVL68:
 1018              	.LFB55:
 724:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 725:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 726:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Transmits a Data through the SPIx/I2Sx peripheral.
 727:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 in SPI mode or 1 in I2S mode to select 
 728:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   the SPI peripheral. 
 729:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  Data: Data to be transmitted.
 730:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 731:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 732:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_I2S_SendData16(SPI_TypeDef* SPIx, uint16_t Data)
 733:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1019              		.loc 1 733 1 is_stmt 1 view -0
 1020              		.cfi_startproc
 1021              		@ args = 0, pretend = 0, frame = 0
 1022              		@ frame_needed = 0, uses_anonymous_args = 0
 1023              		@ link register save eliminated.
 734:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 735:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1024              		.loc 1 735 3 view .LVU290
 736:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 737:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->DR = (uint16_t)Data;
 1025              		.loc 1 737 3 view .LVU291
ARM GAS  /tmp/ccOEkdfP.s 			page 32


 1026              		.loc 1 737 12 is_stmt 0 view .LVU292
 1027 0000 8181     		strh	r1, [r0, #12]
 738:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1028              		.loc 1 738 1 view .LVU293
 1029              		@ sp needed
 1030 0002 7047     		bx	lr
 1031              		.cfi_endproc
 1032              	.LFE55:
 1034              		.section	.text.SPI_ReceiveData8,"ax",%progbits
 1035              		.align	1
 1036              		.global	SPI_ReceiveData8
 1037              		.syntax unified
 1038              		.code	16
 1039              		.thumb_func
 1040              		.fpu softvfp
 1042              	SPI_ReceiveData8:
 1043              	.LVL69:
 1044              	.LFB56:
 739:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 740:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 741:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Returns the most recent received data by the SPIx/I2Sx peripheral. 
 742:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 in SPI mode to select the SPI peripheral. 
 743:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval The value of the received data.
 744:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 745:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** uint8_t SPI_ReceiveData8(SPI_TypeDef* SPIx)
 746:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1045              		.loc 1 746 1 is_stmt 1 view -0
 1046              		.cfi_startproc
 1047              		@ args = 0, pretend = 0, frame = 0
 1048              		@ frame_needed = 0, uses_anonymous_args = 0
 1049              		@ link register save eliminated.
 747:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint32_t spixbase = 0x00;
 1050              		.loc 1 747 3 view .LVU295
 748:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 749:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   spixbase = (uint32_t)SPIx; 
 1051              		.loc 1 749 3 view .LVU296
 750:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   spixbase += 0x0C;
 1052              		.loc 1 750 3 view .LVU297
 751:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   
 752:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   return *(__IO uint8_t *) spixbase;
 1053              		.loc 1 752 3 view .LVU298
 1054              		.loc 1 752 10 is_stmt 0 view .LVU299
 1055 0000 007B     		ldrb	r0, [r0, #12]
 1056              	.LVL70:
 1057              		.loc 1 752 10 view .LVU300
 1058 0002 C0B2     		uxtb	r0, r0
 753:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1059              		.loc 1 753 1 view .LVU301
 1060              		@ sp needed
 1061 0004 7047     		bx	lr
 1062              		.cfi_endproc
 1063              	.LFE56:
 1065              		.section	.text.SPI_I2S_ReceiveData16,"ax",%progbits
 1066              		.align	1
 1067              		.global	SPI_I2S_ReceiveData16
 1068              		.syntax unified
 1069              		.code	16
ARM GAS  /tmp/ccOEkdfP.s 			page 33


 1070              		.thumb_func
 1071              		.fpu softvfp
 1073              	SPI_I2S_ReceiveData16:
 1074              	.LVL71:
 1075              	.LFB57:
 754:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 755:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 756:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Returns the most recent received data by the SPIx peripheral. 
 757:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 in SPI mode or 1 in I2S mode to select 
 758:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   the SPI peripheral.  
 759:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval The value of the received data.
 760:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 761:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** uint16_t SPI_I2S_ReceiveData16(SPI_TypeDef* SPIx)
 762:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1076              		.loc 1 762 1 is_stmt 1 view -0
 1077              		.cfi_startproc
 1078              		@ args = 0, pretend = 0, frame = 0
 1079              		@ frame_needed = 0, uses_anonymous_args = 0
 1080              		@ link register save eliminated.
 763:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   return SPIx->DR;
 1081              		.loc 1 763 3 view .LVU303
 1082              		.loc 1 763 14 is_stmt 0 view .LVU304
 1083 0000 8089     		ldrh	r0, [r0, #12]
 1084              	.LVL72:
 1085              		.loc 1 763 14 view .LVU305
 1086 0002 80B2     		uxth	r0, r0
 764:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1087              		.loc 1 764 1 view .LVU306
 1088              		@ sp needed
 1089 0004 7047     		bx	lr
 1090              		.cfi_endproc
 1091              	.LFE57:
 1093              		.section	.text.SPI_CRCLengthConfig,"ax",%progbits
 1094              		.align	1
 1095              		.global	SPI_CRCLengthConfig
 1096              		.syntax unified
 1097              		.code	16
 1098              		.thumb_func
 1099              		.fpu softvfp
 1101              	SPI_CRCLengthConfig:
 1102              	.LVL73:
 1103              	.LFB58:
 765:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 766:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @}
 767:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 768:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 769:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /** @defgroup SPI_Group3 Hardware CRC Calculation functions
 770:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  *  @brief   Hardware CRC Calculation functions
 771:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  *
 772:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @verbatim   
 773:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
 774:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                 ##### Hardware CRC Calculation functions #####
 775:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
 776:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] This section provides a set of functions allowing to manage the SPI CRC hardware 
 777:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          calculation.SPI communication using CRC is possible through the following procedure:
 778:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 779:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          (#) Program the Data direction, Polarity, Phase, First Data, Baud Rate Prescaler,
ARM GAS  /tmp/ccOEkdfP.s 			page 34


 780:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****              Slave Management, Peripheral Mode and CRC Polynomial values using the SPI_Init()
 781:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****              function.
 782:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          (#) Enable the CRC calculation using the SPI_CalculateCRC() function.
 783:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          (#) Enable the SPI using the SPI_Cmd() function
 784:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          (#) Before writing the last data to the TX buffer, set the CRCNext bit using the 
 785:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****              SPI_TransmitCRC() function to indicate that after transmission of the last 
 786:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****              data, the CRC should be transmitted.
 787:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          (#) After transmitting the last data, the SPI transmits the CRC. The SPI_CR1_CRCNEXT
 788:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****              bit is reset. The CRC is also received and compared against the SPI_RXCRCR 
 789:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****              value. 
 790:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****              If the value does not match, the SPI_FLAG_CRCERR flag is set and an interrupt
 791:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****              can be generated when the SPI_I2S_IT_ERR interrupt is enabled.
 792:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 793:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     -@-
 794:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (+@) It is advised to don't read the calculate CRC values during the communication.
 795:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (+@) When the SPI is in slave mode, be careful to enable CRC calculation only
 796:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        when the clock is stable, that is, when the clock is in the steady state. 
 797:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        If not, a wrong CRC calculation may be done. In fact, the CRC is sensitive 
 798:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        to the SCK slave input clock as soon as CRCEN is set, and this, whatever 
 799:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        the value of the SPE bit.
 800:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (+@) With high bitrate frequencies, be careful when transmitting the CRC.
 801:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        As the number of used CPU cycles has to be as low as possible in the CRC 
 802:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        transfer phase, it is forbidden to call software functions in the CRC 
 803:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        transmission sequence to avoid errors in the last data and CRC reception. 
 804:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        In fact, CRCNEXT bit has to be written before the end of the transmission/reception 
 805:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        of the last data.
 806:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (+@) For high bit rate frequencies, it is advised to use the DMA mode to avoid the
 807:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        degradation of the SPI speed performance due to CPU accesses impacting the 
 808:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        SPI bandwidth.
 809:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (+@) When the STM32F0xx are configured as slaves and the NSS hardware mode is 
 810:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        used, the NSS pin needs to be kept low between the data phase and the CRC 
 811:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        phase.
 812:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (+@) When the SPI is configured in slave mode with the CRC feature enabled, CRC
 813:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        calculation takes place even if a high level is applied on the NSS pin. 
 814:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        This may happen for example in case of a multislave environment where the 
 815:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        communication master addresses slaves alternately.
 816:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (+@) Between a slave deselection (high level on NSS) and a new slave selection
 817:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (low level on NSS), the CRC value should be cleared on both master and slave
 818:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        sides in order to resynchronize the master and slave for their respective 
 819:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        CRC calculation.
 820:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 821:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     -@- To clear the CRC, follow the procedure below:
 822:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (#@) Disable SPI using the SPI_Cmd() function
 823:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (#@) Disable the CRC calculation using the SPI_CalculateCRC() function.
 824:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (#@) Enable the CRC calculation using the SPI_CalculateCRC() function.
 825:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****        (#@) Enable SPI using the SPI_Cmd() function.
 826:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 827:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @endverbatim
 828:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @{
 829:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 830:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 831:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 832:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Configures the CRC calculation length for the selected SPI.
 833:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note   - This function can be called only after the SPI_Init() function has 
 834:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           been called.  
 835:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 836:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_CRCLength: specifies the SPI CRC calculation length.
ARM GAS  /tmp/ccOEkdfP.s 			page 35


 837:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be one of the following values:
 838:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_CRCLength_8b: Set CRC Calculation to 8 bits
 839:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_CRCLength_16b: Set CRC Calculation to 16 bits
 840:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 841:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 842:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_CRCLengthConfig(SPI_TypeDef* SPIx, uint16_t SPI_CRCLength)
 843:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1104              		.loc 1 843 1 is_stmt 1 view -0
 1105              		.cfi_startproc
 1106              		@ args = 0, pretend = 0, frame = 0
 1107              		@ frame_needed = 0, uses_anonymous_args = 0
 1108              		@ link register save eliminated.
 844:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 845:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1109              		.loc 1 845 3 view .LVU308
 846:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_CRC_LENGTH(SPI_CRCLength));
 1110              		.loc 1 846 3 view .LVU309
 847:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 848:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Clear CRCL bit */
 849:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR1 &= (uint16_t)~((uint16_t)SPI_CR1_CRCL);
 1111              		.loc 1 849 3 view .LVU310
 1112              		.loc 1 849 13 is_stmt 0 view .LVU311
 1113 0000 0288     		ldrh	r2, [r0]
 1114 0002 034B     		ldr	r3, .L64
 1115 0004 1A40     		ands	r2, r3
 1116 0006 0280     		strh	r2, [r0]
 850:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 851:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set new CRCL bit value */
 852:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR1 |= SPI_CRCLength;
 1117              		.loc 1 852 3 is_stmt 1 view .LVU312
 1118              		.loc 1 852 13 is_stmt 0 view .LVU313
 1119 0008 0388     		ldrh	r3, [r0]
 1120 000a 0B43     		orrs	r3, r1
 1121 000c 0380     		strh	r3, [r0]
 853:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1122              		.loc 1 853 1 view .LVU314
 1123              		@ sp needed
 1124 000e 7047     		bx	lr
 1125              	.L65:
 1126              		.align	2
 1127              	.L64:
 1128 0010 FFF7FFFF 		.word	-2049
 1129              		.cfi_endproc
 1130              	.LFE58:
 1132              		.section	.text.SPI_CalculateCRC,"ax",%progbits
 1133              		.align	1
 1134              		.global	SPI_CalculateCRC
 1135              		.syntax unified
 1136              		.code	16
 1137              		.thumb_func
 1138              		.fpu softvfp
 1140              	SPI_CalculateCRC:
 1141              	.LVL74:
 1142              	.LFB59:
 854:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 855:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 856:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Enables or disables the CRC value calculation of the transferred bytes.
ARM GAS  /tmp/ccOEkdfP.s 			page 36


 857:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note   - This function can be called only after the SPI_Init() function has 
 858:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           been called.   
 859:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 860:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  NewState: new state of the SPIx CRC value calculation.
 861:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 862:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 863:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 864:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_CalculateCRC(SPI_TypeDef* SPIx, FunctionalState NewState)
 865:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1143              		.loc 1 865 1 is_stmt 1 view -0
 1144              		.cfi_startproc
 1145              		@ args = 0, pretend = 0, frame = 0
 1146              		@ frame_needed = 0, uses_anonymous_args = 0
 1147              		@ link register save eliminated.
 866:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 867:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1148              		.loc 1 867 3 view .LVU316
 868:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1149              		.loc 1 868 3 view .LVU317
 869:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 870:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (NewState != DISABLE)
 1150              		.loc 1 870 3 view .LVU318
 1151              		.loc 1 870 6 is_stmt 0 view .LVU319
 1152 0000 0029     		cmp	r1, #0
 1153 0002 05D0     		beq	.L67
 871:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 872:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Enable the selected SPI CRC calculation */
 873:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR1 |= SPI_CR1_CRCEN;
 1154              		.loc 1 873 5 is_stmt 1 view .LVU320
 1155              		.loc 1 873 15 is_stmt 0 view .LVU321
 1156 0004 0388     		ldrh	r3, [r0]
 1157 0006 8022     		movs	r2, #128
 1158 0008 9201     		lsls	r2, r2, #6
 1159 000a 1343     		orrs	r3, r2
 1160 000c 0380     		strh	r3, [r0]
 1161              	.L66:
 874:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 875:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 876:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 877:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Disable the selected SPI CRC calculation */
 878:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR1 &= (uint16_t)~((uint16_t)SPI_CR1_CRCEN);
 879:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 880:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1162              		.loc 1 880 1 view .LVU322
 1163              		@ sp needed
 1164 000e 7047     		bx	lr
 1165              	.L67:
 878:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1166              		.loc 1 878 5 is_stmt 1 view .LVU323
 878:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1167              		.loc 1 878 15 is_stmt 0 view .LVU324
 1168 0010 0388     		ldrh	r3, [r0]
 1169 0012 024A     		ldr	r2, .L69
 1170 0014 1340     		ands	r3, r2
 1171 0016 0380     		strh	r3, [r0]
 1172              		.loc 1 880 1 view .LVU325
 1173 0018 F9E7     		b	.L66
ARM GAS  /tmp/ccOEkdfP.s 			page 37


 1174              	.L70:
 1175 001a C046     		.align	2
 1176              	.L69:
 1177 001c FFDFFFFF 		.word	-8193
 1178              		.cfi_endproc
 1179              	.LFE59:
 1181              		.section	.text.SPI_TransmitCRC,"ax",%progbits
 1182              		.align	1
 1183              		.global	SPI_TransmitCRC
 1184              		.syntax unified
 1185              		.code	16
 1186              		.thumb_func
 1187              		.fpu softvfp
 1189              	SPI_TransmitCRC:
 1190              	.LVL75:
 1191              	.LFB60:
 881:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 882:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 883:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Transmit the SPIx CRC value.
 884:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 885:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 886:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 887:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_TransmitCRC(SPI_TypeDef* SPIx)
 888:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1192              		.loc 1 888 1 is_stmt 1 view -0
 1193              		.cfi_startproc
 1194              		@ args = 0, pretend = 0, frame = 0
 1195              		@ frame_needed = 0, uses_anonymous_args = 0
 1196              		@ link register save eliminated.
 889:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 890:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1197              		.loc 1 890 3 view .LVU327
 891:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 892:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Enable the selected SPI CRC transmission */
 893:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR1 |= SPI_CR1_CRCNEXT;
 1198              		.loc 1 893 3 view .LVU328
 1199              		.loc 1 893 13 is_stmt 0 view .LVU329
 1200 0000 0388     		ldrh	r3, [r0]
 1201 0002 8022     		movs	r2, #128
 1202 0004 5201     		lsls	r2, r2, #5
 1203 0006 1343     		orrs	r3, r2
 1204 0008 0380     		strh	r3, [r0]
 894:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1205              		.loc 1 894 1 view .LVU330
 1206              		@ sp needed
 1207 000a 7047     		bx	lr
 1208              		.cfi_endproc
 1209              	.LFE60:
 1211              		.section	.text.SPI_GetCRC,"ax",%progbits
 1212              		.align	1
 1213              		.global	SPI_GetCRC
 1214              		.syntax unified
 1215              		.code	16
 1216              		.thumb_func
 1217              		.fpu softvfp
 1219              	SPI_GetCRC:
 1220              	.LVL76:
ARM GAS  /tmp/ccOEkdfP.s 			page 38


 1221              	.LFB61:
 895:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 896:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 897:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Returns the transmit or the receive CRC register value for the specified SPI.
 898:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 899:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_CRC: specifies the CRC register to be read.
 900:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be one of the following values:
 901:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_CRC_Tx: Selects Tx CRC register
 902:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_CRC_Rx: Selects Rx CRC register
 903:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval The selected CRC register value..
 904:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 905:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** uint16_t SPI_GetCRC(SPI_TypeDef* SPIx, uint8_t SPI_CRC)
 906:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1222              		.loc 1 906 1 is_stmt 1 view -0
 1223              		.cfi_startproc
 1224              		@ args = 0, pretend = 0, frame = 0
 1225              		@ frame_needed = 0, uses_anonymous_args = 0
 1226              		@ link register save eliminated.
 907:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint16_t crcreg = 0;
 1227              		.loc 1 907 3 view .LVU332
 908:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 909:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1228              		.loc 1 909 3 view .LVU333
 910:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_CRC(SPI_CRC));
 1229              		.loc 1 910 3 view .LVU334
 911:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 912:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (SPI_CRC != SPI_CRC_Rx)
 1230              		.loc 1 912 3 view .LVU335
 1231              		.loc 1 912 6 is_stmt 0 view .LVU336
 1232 0000 0129     		cmp	r1, #1
 1233 0002 02D0     		beq	.L73
 913:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 914:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Get the Tx CRC register */
 915:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     crcreg = SPIx->TXCRCR;
 1234              		.loc 1 915 5 is_stmt 1 view .LVU337
 1235              		.loc 1 915 12 is_stmt 0 view .LVU338
 1236 0004 008B     		ldrh	r0, [r0, #24]
 1237              	.LVL77:
 1238              		.loc 1 915 12 view .LVU339
 1239 0006 80B2     		uxth	r0, r0
 1240              	.LVL78:
 1241              	.L74:
 916:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 917:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 918:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 919:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Get the Rx CRC register */
 920:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     crcreg = SPIx->RXCRCR;
 921:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 922:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Return the selected CRC register */
 923:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   return crcreg;
 1242              		.loc 1 923 3 is_stmt 1 view .LVU340
 924:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1243              		.loc 1 924 1 is_stmt 0 view .LVU341
 1244              		@ sp needed
 1245 0008 7047     		bx	lr
 1246              	.LVL79:
 1247              	.L73:
ARM GAS  /tmp/ccOEkdfP.s 			page 39


 920:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1248              		.loc 1 920 5 is_stmt 1 view .LVU342
 920:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1249              		.loc 1 920 12 is_stmt 0 view .LVU343
 1250 000a 808A     		ldrh	r0, [r0, #20]
 1251              	.LVL80:
 920:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1252              		.loc 1 920 12 view .LVU344
 1253 000c 80B2     		uxth	r0, r0
 1254              	.LVL81:
 920:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1255              		.loc 1 920 12 view .LVU345
 1256 000e FBE7     		b	.L74
 1257              		.cfi_endproc
 1258              	.LFE61:
 1260              		.section	.text.SPI_GetCRCPolynomial,"ax",%progbits
 1261              		.align	1
 1262              		.global	SPI_GetCRCPolynomial
 1263              		.syntax unified
 1264              		.code	16
 1265              		.thumb_func
 1266              		.fpu softvfp
 1268              	SPI_GetCRCPolynomial:
 1269              	.LVL82:
 1270              	.LFB62:
 925:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 926:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 927:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Returns the CRC Polynomial register value for the specified SPI.
 928:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 929:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval The CRC Polynomial register value.
 930:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 931:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** uint16_t SPI_GetCRCPolynomial(SPI_TypeDef* SPIx)
 932:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1271              		.loc 1 932 1 is_stmt 1 view -0
 1272              		.cfi_startproc
 1273              		@ args = 0, pretend = 0, frame = 0
 1274              		@ frame_needed = 0, uses_anonymous_args = 0
 1275              		@ link register save eliminated.
 933:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 934:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1276              		.loc 1 934 3 view .LVU347
 935:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 936:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Return the CRC polynomial register */
 937:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   return SPIx->CRCPR;
 1277              		.loc 1 937 3 view .LVU348
 1278              		.loc 1 937 14 is_stmt 0 view .LVU349
 1279 0000 008A     		ldrh	r0, [r0, #16]
 1280              	.LVL83:
 1281              		.loc 1 937 14 view .LVU350
 1282 0002 80B2     		uxth	r0, r0
 938:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1283              		.loc 1 938 1 view .LVU351
 1284              		@ sp needed
 1285 0004 7047     		bx	lr
 1286              		.cfi_endproc
 1287              	.LFE62:
 1289              		.section	.text.SPI_I2S_DMACmd,"ax",%progbits
ARM GAS  /tmp/ccOEkdfP.s 			page 40


 1290              		.align	1
 1291              		.global	SPI_I2S_DMACmd
 1292              		.syntax unified
 1293              		.code	16
 1294              		.thumb_func
 1295              		.fpu softvfp
 1297              	SPI_I2S_DMACmd:
 1298              	.LVL84:
 1299              	.LFB63:
 939:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 940:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 941:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @}
 942:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 943:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 944:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /** @defgroup SPI_Group4 DMA transfers management functions
 945:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  *  @brief   DMA transfers management functions
 946:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *
 947:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @verbatim   
 948:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
 949:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****                 ##### DMA transfers management functions #####
 950:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
 951:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] This section provides two functions that can be used only in DMA mode.
 952:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 953:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @endverbatim
 954:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @{
 955:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 956:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 957:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 958:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
 959:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 in SPI mode or 1 in I2S mode to select 
 960:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   the SPI peripheral.
 961:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_I2S_DMAReq: specifies the SPI DMA transfer request to be enabled or disabled. 
 962:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be any combination of the following values:
 963:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_DMAReq_Tx: Tx buffer DMA transfer request
 964:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_DMAReq_Rx: Rx buffer DMA transfer request
 965:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  NewState: new state of the selected SPI DMA transfer request.
 966:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         This parameter can be: ENABLE or DISABLE.
 967:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
 968:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
 969:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewState)
 970:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1300              		.loc 1 970 1 is_stmt 1 view -0
 1301              		.cfi_startproc
 1302              		@ args = 0, pretend = 0, frame = 0
 1303              		@ frame_needed = 0, uses_anonymous_args = 0
 1304              		@ link register save eliminated.
 971:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
 972:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1305              		.loc 1 972 3 view .LVU353
 973:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1306              		.loc 1 973 3 view .LVU354
 974:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_I2S_DMA_REQ(SPI_I2S_DMAReq));
 1307              		.loc 1 974 3 view .LVU355
 975:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 976:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (NewState != DISABLE)
 1308              		.loc 1 976 3 view .LVU356
 1309              		.loc 1 976 6 is_stmt 0 view .LVU357
ARM GAS  /tmp/ccOEkdfP.s 			page 41


 1310 0000 002A     		cmp	r2, #0
 1311 0002 03D0     		beq	.L77
 977:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 978:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Enable the selected SPI DMA requests */
 979:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 |= SPI_I2S_DMAReq;
 1312              		.loc 1 979 5 is_stmt 1 view .LVU358
 1313              		.loc 1 979 15 is_stmt 0 view .LVU359
 1314 0004 8388     		ldrh	r3, [r0, #4]
 1315 0006 1943     		orrs	r1, r3
 1316              	.LVL85:
 1317              		.loc 1 979 15 view .LVU360
 1318 0008 8180     		strh	r1, [r0, #4]
 1319              	.L76:
 980:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 981:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
 982:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
 983:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Disable the selected SPI DMA requests */
 984:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_I2S_DMAReq;
 985:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 986:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1320              		.loc 1 986 1 view .LVU361
 1321              		@ sp needed
 1322 000a 7047     		bx	lr
 1323              	.LVL86:
 1324              	.L77:
 984:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1325              		.loc 1 984 5 is_stmt 1 view .LVU362
 984:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1326              		.loc 1 984 15 is_stmt 0 view .LVU363
 1327 000c 8388     		ldrh	r3, [r0, #4]
 1328 000e 8B43     		bics	r3, r1
 1329 0010 8380     		strh	r3, [r0, #4]
 1330              		.loc 1 986 1 view .LVU364
 1331 0012 FAE7     		b	.L76
 1332              		.cfi_endproc
 1333              	.LFE63:
 1335              		.section	.text.SPI_LastDMATransferCmd,"ax",%progbits
 1336              		.align	1
 1337              		.global	SPI_LastDMATransferCmd
 1338              		.syntax unified
 1339              		.code	16
 1340              		.thumb_func
 1341              		.fpu softvfp
 1343              	SPI_LastDMATransferCmd:
 1344              	.LVL87:
 1345              	.LFB64:
 987:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
 988:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
 989:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Configures the number of data to transfer type(Even/Odd) for the DMA
 990:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         last transfers and for the selected SPI.
 991:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note   - This function have a meaning only if DMA mode is selected and if 
 992:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         the packing mode is used (data length <= 8 and DMA transfer size halfword)  
 993:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
 994:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_LastDMATransfer: specifies the SPI last DMA transfers state.
 995:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be one of the following values:
 996:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_LastDMATransfer_TxEvenRxEven: Number of data for transmission Even
 997:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *          and number of data for reception Even.
ARM GAS  /tmp/ccOEkdfP.s 			page 42


 998:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_LastDMATransfer_TxOddRxEven: Number of data for transmission Odd
 999:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *          and number of data for reception Even.
1000:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_LastDMATransfer_TxEvenRxOdd: Number of data for transmission Even
1001:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *          and number of data for reception Odd.
1002:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_LastDMATransfer_TxOddRxOdd: Number of data for transmission Odd
1003:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *          and number of data for reception Odd.
1004:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
1005:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
1006:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_LastDMATransferCmd(SPI_TypeDef* SPIx, uint16_t SPI_LastDMATransfer)
1007:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1346              		.loc 1 1007 1 is_stmt 1 view -0
 1347              		.cfi_startproc
 1348              		@ args = 0, pretend = 0, frame = 0
 1349              		@ frame_needed = 0, uses_anonymous_args = 0
 1350              		@ link register save eliminated.
1008:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
1009:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1351              		.loc 1 1009 3 view .LVU366
1010:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_LAST_DMA_TRANSFER(SPI_LastDMATransfer));
 1352              		.loc 1 1010 3 view .LVU367
1011:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1012:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Clear LDMA_TX and LDMA_RX bits */
1013:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR2 &= CR2_LDMA_MASK;
 1353              		.loc 1 1013 3 view .LVU368
 1354              		.loc 1 1013 13 is_stmt 0 view .LVU369
 1355 0000 8288     		ldrh	r2, [r0, #4]
 1356 0002 034B     		ldr	r3, .L80
 1357 0004 1A40     		ands	r2, r3
 1358 0006 8280     		strh	r2, [r0, #4]
1014:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1015:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set new LDMA_TX and LDMA_RX bits value */
1016:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->CR2 |= SPI_LastDMATransfer; 
 1359              		.loc 1 1016 3 is_stmt 1 view .LVU370
 1360              		.loc 1 1016 13 is_stmt 0 view .LVU371
 1361 0008 8388     		ldrh	r3, [r0, #4]
 1362 000a 0B43     		orrs	r3, r1
 1363 000c 8380     		strh	r3, [r0, #4]
1017:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1364              		.loc 1 1017 1 view .LVU372
 1365              		@ sp needed
 1366 000e 7047     		bx	lr
 1367              	.L81:
 1368              		.align	2
 1369              	.L80:
 1370 0010 FF9FFFFF 		.word	-24577
 1371              		.cfi_endproc
 1372              	.LFE64:
 1374              		.section	.text.SPI_I2S_ITConfig,"ax",%progbits
 1375              		.align	1
 1376              		.global	SPI_I2S_ITConfig
 1377              		.syntax unified
 1378              		.code	16
 1379              		.thumb_func
 1380              		.fpu softvfp
 1382              	SPI_I2S_ITConfig:
 1383              	.LVL88:
 1384              	.LFB65:
ARM GAS  /tmp/ccOEkdfP.s 			page 43


1018:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1019:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
1020:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @}
1021:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
1022:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1023:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /** @defgroup SPI_Group5 Interrupts and flags management functions
1024:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  *  @brief   Interrupts and flags management functions
1025:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *
1026:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @verbatim   
1027:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
1028:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****              ##### Interrupts and flags management functions #####
1029:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****  ===============================================================================
1030:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] This section provides a set of functions allowing to configure the SPI/I2S Interrupts 
1031:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          sources and check or clear the flags or pending bits status.
1032:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          The user should identify which mode will be used in his application to manage 
1033:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          the communication: Polling mode, Interrupt mode or DMA mode. 
1034:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1035:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *** Polling Mode ***
1036:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   ====================
1037:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] In Polling Mode, the SPI/I2S communication can be managed by 9 flags:
1038:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_FLAG_TXE : to indicate the status of the transmit buffer register
1039:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_FLAG_RXNE : to indicate the status of the receive buffer register
1040:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_FLAG_BSY : to indicate the state of the communication layer of the SPI.
1041:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_FLAG_CRCERR : to indicate if a CRC Calculation error occur              
1042:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_FLAG_MODF : to indicate if a Mode Fault error occur
1043:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_FLAG_OVR : to indicate if an Overrun error occur
1044:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_FLAG_FRE: to indicate a Frame Format error occurs.
1045:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) I2S_FLAG_UDR: to indicate an Underrun error occurs.
1046:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) I2S_FLAG_CHSIDE: to indicate Channel Side.
1047:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1048:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..]
1049:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (@)Do not use the BSY flag to handle each data transmission or reception. It is better 
1050:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****            to use the TXE and RXNE flags instead.
1051:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1052:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] In this Mode it is advised to use the following functions:
1053:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (+) FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);
1054:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (+) void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);
1055:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1056:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *** Interrupt Mode ***
1057:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   ======================
1058:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] In Interrupt Mode, the SPI/I2S communication can be managed by 3 interrupt sources
1059:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          and 5 pending bits: 
1060:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] Pending Bits:
1061:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_IT_TXE : to indicate the status of the transmit buffer register
1062:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_IT_RXNE : to indicate the status of the receive buffer register
1063:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_IT_OVR : to indicate if an Overrun error occur
1064:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) I2S_IT_UDR : to indicate an Underrun Error occurs.
1065:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_FLAG_FRE : to indicate a Frame Format error occurs.
1066:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1067:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] Interrupt Source:
1068:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_IT_TXE: specifies the interrupt source for the Tx buffer empty 
1069:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             interrupt.  
1070:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_IT_RXNE : specifies the interrupt source for the Rx buffer not 
1071:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****             empty interrupt.
1072:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_IT_ERR : specifies the interrupt source for the errors interrupt.
1073:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1074:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] In this Mode it is advised to use the following functions:
ARM GAS  /tmp/ccOEkdfP.s 			page 44


1075:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          (+) void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState)
1076:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          (+) ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT);
1077:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1078:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *** FIFO Status ***
1079:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   ===================
1080:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] It is possible to monitor the FIFO status when a transfer is ongoing using the
1081:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          following function:
1082:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          (+) uint32_t SPI_GetFIFOStatus(uint8_t SPI_FIFO_Direction); 
1083:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1084:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *** DMA Mode ***
1085:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   ================
1086:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] In DMA Mode, the SPI communication can be managed by 2 DMA Channel 
1087:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****          requests:
1088:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_DMAReq_Tx: specifies the Tx buffer DMA transfer request.
1089:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (#) SPI_I2S_DMAReq_Rx: specifies the Rx buffer DMA transfer request.
1090:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1091:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     [..] In this Mode it is advised to use the following function:
1092:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****         (+) void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewStat
1093:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1094:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** @endverbatim
1095:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @{
1096:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
1097:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1098:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
1099:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Enables or disables the specified SPI/I2S interrupts.
1100:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 in SPI mode or 1 in I2S mode to select 
1101:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   the SPI peripheral.  
1102:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt source to be enabled or disabled. 
1103:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be one of the following values:
1104:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_IT_TXE: Tx buffer empty interrupt mask
1105:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_IT_RXNE: Rx buffer not empty interrupt mask
1106:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_IT_ERR: Error interrupt mask
1107:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  NewState: new state of the specified SPI interrupt.
1108:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *         This parameter can be: ENABLE or DISABLE.
1109:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
1110:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
1111:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState)
1112:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1385              		.loc 1 1112 1 is_stmt 1 view -0
 1386              		.cfi_startproc
 1387              		@ args = 0, pretend = 0, frame = 0
 1388              		@ frame_needed = 0, uses_anonymous_args = 0
 1389              		@ link register save eliminated.
1113:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint16_t itpos = 0, itmask = 0 ;
 1390              		.loc 1 1113 3 view .LVU374
1114:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1115:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
1116:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1391              		.loc 1 1116 3 view .LVU375
1117:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1392              		.loc 1 1117 3 view .LVU376
1118:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_I2S_CONFIG_IT(SPI_I2S_IT));
 1393              		.loc 1 1118 3 view .LVU377
1119:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1120:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the SPI IT index */
1121:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   itpos = SPI_I2S_IT >> 4;
 1394              		.loc 1 1121 3 view .LVU378
ARM GAS  /tmp/ccOEkdfP.s 			page 45


 1395              		.loc 1 1121 9 is_stmt 0 view .LVU379
 1396 0000 0909     		lsrs	r1, r1, #4
 1397              	.LVL89:
1122:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1123:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set the IT mask */
1124:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   itmask = (uint16_t)1 << (uint16_t)itpos;
 1398              		.loc 1 1124 3 is_stmt 1 view .LVU380
 1399              		.loc 1 1124 24 is_stmt 0 view .LVU381
 1400 0002 0123     		movs	r3, #1
 1401 0004 8B40     		lsls	r3, r3, r1
 1402              		.loc 1 1124 10 view .LVU382
 1403 0006 9BB2     		uxth	r3, r3
 1404              	.LVL90:
1125:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1126:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (NewState != DISABLE)
 1405              		.loc 1 1126 3 is_stmt 1 view .LVU383
 1406              		.loc 1 1126 6 is_stmt 0 view .LVU384
 1407 0008 002A     		cmp	r2, #0
 1408 000a 03D0     		beq	.L83
1127:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
1128:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Enable the selected SPI interrupt */
1129:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 |= itmask;
 1409              		.loc 1 1129 5 is_stmt 1 view .LVU385
 1410              		.loc 1 1129 15 is_stmt 0 view .LVU386
 1411 000c 8288     		ldrh	r2, [r0, #4]
 1412              	.LVL91:
 1413              		.loc 1 1129 15 view .LVU387
 1414 000e 1343     		orrs	r3, r2
 1415              	.LVL92:
 1416              		.loc 1 1129 15 view .LVU388
 1417 0010 8380     		strh	r3, [r0, #4]
 1418              	.L82:
1130:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
1131:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
1132:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
1133:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* Disable the selected SPI interrupt */
1134:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     SPIx->CR2 &= (uint16_t)~itmask;
1135:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
1136:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1419              		.loc 1 1136 1 view .LVU389
 1420              		@ sp needed
 1421 0012 7047     		bx	lr
 1422              	.LVL93:
 1423              	.L83:
1134:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1424              		.loc 1 1134 5 is_stmt 1 view .LVU390
1134:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1425              		.loc 1 1134 15 is_stmt 0 view .LVU391
 1426 0014 8288     		ldrh	r2, [r0, #4]
 1427              	.LVL94:
1134:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1428              		.loc 1 1134 15 view .LVU392
 1429 0016 9A43     		bics	r2, r3
 1430 0018 8280     		strh	r2, [r0, #4]
 1431              		.loc 1 1136 1 view .LVU393
 1432 001a FAE7     		b	.L82
 1433              		.cfi_endproc
ARM GAS  /tmp/ccOEkdfP.s 			page 46


 1434              	.LFE65:
 1436              		.section	.text.SPI_GetTransmissionFIFOStatus,"ax",%progbits
 1437              		.align	1
 1438              		.global	SPI_GetTransmissionFIFOStatus
 1439              		.syntax unified
 1440              		.code	16
 1441              		.thumb_func
 1442              		.fpu softvfp
 1444              	SPI_GetTransmissionFIFOStatus:
 1445              	.LVL95:
 1446              	.LFB66:
1137:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1138:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
1139:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Returns the current SPIx Transmission FIFO filled level.
1140:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
1141:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval The Transmission FIFO filling state.
1142:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   - SPI_TransmissionFIFOStatus_Empty: when FIFO is empty
1143:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   - SPI_TransmissionFIFOStatus_1QuarterFull: if more than 1 quarter-full.
1144:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   - SPI_TransmissionFIFOStatus_HalfFull: if more than 1 half-full.
1145:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   - SPI_TransmissionFIFOStatus_Full: when FIFO is full.
1146:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
1147:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** uint16_t SPI_GetTransmissionFIFOStatus(SPI_TypeDef* SPIx)
1148:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1447              		.loc 1 1148 1 is_stmt 1 view -0
 1448              		.cfi_startproc
 1449              		@ args = 0, pretend = 0, frame = 0
 1450              		@ frame_needed = 0, uses_anonymous_args = 0
 1451              		@ link register save eliminated.
1149:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the SPIx Transmission FIFO level bits */
1150:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   return (uint16_t)((SPIx->SR & SPI_SR_FTLVL));
 1452              		.loc 1 1150 3 view .LVU395
 1453              		.loc 1 1150 26 is_stmt 0 view .LVU396
 1454 0000 0089     		ldrh	r0, [r0, #8]
 1455              	.LVL96:
 1456              		.loc 1 1150 10 view .LVU397
 1457 0002 C023     		movs	r3, #192
 1458 0004 5B01     		lsls	r3, r3, #5
 1459 0006 1840     		ands	r0, r3
1151:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1460              		.loc 1 1151 1 view .LVU398
 1461              		@ sp needed
 1462 0008 7047     		bx	lr
 1463              		.cfi_endproc
 1464              	.LFE66:
 1466              		.section	.text.SPI_GetReceptionFIFOStatus,"ax",%progbits
 1467              		.align	1
 1468              		.global	SPI_GetReceptionFIFOStatus
 1469              		.syntax unified
 1470              		.code	16
 1471              		.thumb_func
 1472              		.fpu softvfp
 1474              	SPI_GetReceptionFIFOStatus:
 1475              	.LVL97:
 1476              	.LFB67:
1152:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1153:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
1154:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Returns the current SPIx Reception FIFO filled level.
ARM GAS  /tmp/ccOEkdfP.s 			page 47


1155:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
1156:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval The Reception FIFO filling state.
1157:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   - SPI_ReceptionFIFOStatus_Empty: when FIFO is empty
1158:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   - SPI_ReceptionFIFOStatus_1QuarterFull: if more than 1 quarter-full.
1159:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   - SPI_ReceptionFIFOStatus_HalfFull: if more than 1 half-full.
1160:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   - SPI_ReceptionFIFOStatus_Full: when FIFO is full.
1161:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
1162:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** uint16_t SPI_GetReceptionFIFOStatus(SPI_TypeDef* SPIx)
1163:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1477              		.loc 1 1163 1 is_stmt 1 view -0
 1478              		.cfi_startproc
 1479              		@ args = 0, pretend = 0, frame = 0
 1480              		@ frame_needed = 0, uses_anonymous_args = 0
 1481              		@ link register save eliminated.
1164:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the SPIx Reception FIFO level bits */
1165:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   return (uint16_t)((SPIx->SR & SPI_SR_FRLVL));
 1482              		.loc 1 1165 3 view .LVU400
 1483              		.loc 1 1165 26 is_stmt 0 view .LVU401
 1484 0000 0089     		ldrh	r0, [r0, #8]
 1485              	.LVL98:
 1486              		.loc 1 1165 10 view .LVU402
 1487 0002 C023     		movs	r3, #192
 1488 0004 DB00     		lsls	r3, r3, #3
 1489 0006 1840     		ands	r0, r3
1166:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1490              		.loc 1 1166 1 view .LVU403
 1491              		@ sp needed
 1492 0008 7047     		bx	lr
 1493              		.cfi_endproc
 1494              	.LFE67:
 1496              		.section	.text.SPI_I2S_GetFlagStatus,"ax",%progbits
 1497              		.align	1
 1498              		.global	SPI_I2S_GetFlagStatus
 1499              		.syntax unified
 1500              		.code	16
 1501              		.thumb_func
 1502              		.fpu softvfp
 1504              	SPI_I2S_GetFlagStatus:
 1505              	.LVL99:
 1506              	.LFB68:
1167:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1168:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
1169:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Checks whether the specified SPI flag is set or not.
1170:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 in SPI mode or 1 in I2S mode to select 
1171:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   the SPI peripheral.    
1172:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to check. 
1173:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be one of the following values:
1174:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_FLAG_TXE: Transmit buffer empty flag.
1175:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_FLAG_RXNE: Receive buffer not empty flag.
1176:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_FLAG_BSY: Busy flag.
1177:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_FLAG_OVR: Overrun flag.
1178:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_FLAG_MODF: Mode Fault flag.
1179:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_FLAG_CRCERR: CRC Error flag.
1180:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_FLAG_FRE: TI frame format error flag.
1181:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg I2S_FLAG_UDR: Underrun Error flag.
1182:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg I2S_FLAG_CHSIDE: Channel Side flag.   
1183:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval The new state of SPI_I2S_FLAG (SET or RESET).
ARM GAS  /tmp/ccOEkdfP.s 			page 48


1184:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
1185:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
1186:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1507              		.loc 1 1186 1 is_stmt 1 view -0
 1508              		.cfi_startproc
 1509              		@ args = 0, pretend = 0, frame = 0
 1510              		@ frame_needed = 0, uses_anonymous_args = 0
 1511              		@ link register save eliminated.
1187:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   FlagStatus bitstatus = RESET;
 1512              		.loc 1 1187 3 view .LVU405
1188:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
1189:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1513              		.loc 1 1189 3 view .LVU406
1190:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_I2S_GET_FLAG(SPI_I2S_FLAG));
 1514              		.loc 1 1190 3 view .LVU407
1191:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1192:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the status of the specified SPI flag */
1193:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if ((SPIx->SR & SPI_I2S_FLAG) != (uint16_t)RESET)
 1515              		.loc 1 1193 3 view .LVU408
 1516              		.loc 1 1193 12 is_stmt 0 view .LVU409
 1517 0000 0389     		ldrh	r3, [r0, #8]
 1518              		.loc 1 1193 6 view .LVU410
 1519 0002 0B42     		tst	r3, r1
 1520 0004 01D0     		beq	.L89
1194:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
1195:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* SPI_I2S_FLAG is set */
1196:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     bitstatus = SET;
 1521              		.loc 1 1196 15 view .LVU411
 1522 0006 0120     		movs	r0, #1
 1523              	.LVL100:
 1524              	.L88:
1197:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
1198:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
1199:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
1200:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* SPI_I2S_FLAG is reset */
1201:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     bitstatus = RESET;
1202:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
1203:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Return the SPI_I2S_FLAG status */
1204:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   return  bitstatus;
 1525              		.loc 1 1204 3 is_stmt 1 view .LVU412
1205:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1526              		.loc 1 1205 1 is_stmt 0 view .LVU413
 1527              		@ sp needed
 1528 0008 7047     		bx	lr
 1529              	.LVL101:
 1530              	.L89:
1201:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1531              		.loc 1 1201 15 view .LVU414
 1532 000a 0020     		movs	r0, #0
 1533              	.LVL102:
1201:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1534              		.loc 1 1201 15 view .LVU415
 1535 000c FCE7     		b	.L88
 1536              		.cfi_endproc
 1537              	.LFE68:
 1539              		.section	.text.SPI_I2S_ClearFlag,"ax",%progbits
 1540              		.align	1
ARM GAS  /tmp/ccOEkdfP.s 			page 49


 1541              		.global	SPI_I2S_ClearFlag
 1542              		.syntax unified
 1543              		.code	16
 1544              		.thumb_func
 1545              		.fpu softvfp
 1547              	SPI_I2S_ClearFlag:
 1548              	.LVL103:
 1549              	.LFB69:
1206:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1207:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
1208:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) flag.
1209:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 to select the SPI peripheral.
1210:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to clear. 
1211:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This function clears only CRCERR flag.
1212:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note     OVR (OverRun error) flag is cleared by software sequence: a read 
1213:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           operation to SPI_DR register (SPI_I2S_ReceiveData()) followed by  
1214:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           a read operation to SPI_SR register (SPI_I2S_GetFlagStatus()).
1215:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @note     MODF (Mode Fault) flag is cleared by software sequence: a read/write 
1216:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           operation to SPI_SR register (SPI_I2S_GetFlagStatus()) followed by
1217:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *           a write operation to SPI_CR1 register (SPI_Cmd() to enable the SPI).
1218:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval None
1219:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
1220:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
1221:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1550              		.loc 1 1221 1 is_stmt 1 view -0
 1551              		.cfi_startproc
 1552              		@ args = 0, pretend = 0, frame = 0
 1553              		@ frame_needed = 0, uses_anonymous_args = 0
 1554              		@ link register save eliminated.
1222:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
1223:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1555              		.loc 1 1223 3 view .LVU417
1224:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_CLEAR_FLAG(SPI_I2S_FLAG));
 1556              		.loc 1 1224 3 view .LVU418
1225:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1226:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) flag */
1227:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   SPIx->SR = (uint16_t)~SPI_I2S_FLAG;
 1557              		.loc 1 1227 3 view .LVU419
 1558              		.loc 1 1227 14 is_stmt 0 view .LVU420
 1559 0000 C943     		mvns	r1, r1
 1560              	.LVL104:
 1561              		.loc 1 1227 14 view .LVU421
 1562 0002 89B2     		uxth	r1, r1
 1563              		.loc 1 1227 12 view .LVU422
 1564 0004 0181     		strh	r1, [r0, #8]
1228:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1565              		.loc 1 1228 1 view .LVU423
 1566              		@ sp needed
 1567 0006 7047     		bx	lr
 1568              		.cfi_endproc
 1569              	.LFE69:
 1571              		.section	.text.SPI_I2S_GetITStatus,"ax",%progbits
 1572              		.align	1
 1573              		.global	SPI_I2S_GetITStatus
 1574              		.syntax unified
 1575              		.code	16
 1576              		.thumb_func
ARM GAS  /tmp/ccOEkdfP.s 			page 50


 1577              		.fpu softvfp
 1579              	SPI_I2S_GetITStatus:
 1580              	.LVL105:
 1581              	.LFB70:
1229:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1230:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** /**
1231:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @brief  Checks whether the specified SPI/I2S interrupt has occurred or not.
1232:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPIx: where x can be 1 or 2 in SPI mode or 1 in I2S mode to select 
1233:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   the SPI peripheral.
1234:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt source to check. 
1235:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *   This parameter can be one of the following values:
1236:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_IT_TXE: Transmit buffer empty interrupt.
1237:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_IT_RXNE: Receive buffer not empty interrupt.
1238:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_IT_MODF: Mode Fault interrupt.
1239:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_IT_OVR: Overrun interrupt.
1240:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg I2S_IT_UDR: Underrun interrupt.  
1241:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   *     @arg SPI_I2S_IT_FRE: Format Error interrupt.  
1242:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   * @retval The new state of SPI_I2S_IT (SET or RESET).
1243:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   */
1244:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
1245:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** {
 1582              		.loc 1 1245 1 is_stmt 1 view -0
 1583              		.cfi_startproc
 1584              		@ args = 0, pretend = 0, frame = 0
 1585              		@ frame_needed = 0, uses_anonymous_args = 0
 1586              		.loc 1 1245 1 is_stmt 0 view .LVU425
 1587 0000 10B5     		push	{r4, lr}
 1588              	.LCFI5:
 1589              		.cfi_def_cfa_offset 8
 1590              		.cfi_offset 4, -8
 1591              		.cfi_offset 14, -4
1246:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   ITStatus bitstatus = RESET;
 1592              		.loc 1 1246 3 is_stmt 1 view .LVU426
 1593              	.LVL106:
1247:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   uint16_t itpos = 0, itmask = 0, enablestatus = 0;
 1594              		.loc 1 1247 3 view .LVU427
1248:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1249:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the parameters */
1250:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1595              		.loc 1 1250 3 view .LVU428
1251:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   assert_param(IS_SPI_I2S_GET_IT(SPI_I2S_IT));
 1596              		.loc 1 1251 3 view .LVU429
1252:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1253:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the SPI_I2S_IT index */
1254:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 1597              		.loc 1 1254 3 view .LVU430
 1598              		.loc 1 1254 31 is_stmt 0 view .LVU431
 1599 0002 0F22     		movs	r2, #15
 1600 0004 0A40     		ands	r2, r1
 1601              		.loc 1 1254 16 view .LVU432
 1602 0006 0123     		movs	r3, #1
 1603 0008 1C00     		movs	r4, r3
 1604 000a 9440     		lsls	r4, r4, r2
 1605              	.LVL107:
1255:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1256:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the SPI_I2S_IT IT mask */
1257:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   itmask = SPI_I2S_IT >> 4;
ARM GAS  /tmp/ccOEkdfP.s 			page 51


 1606              		.loc 1 1257 3 is_stmt 1 view .LVU433
 1607              		.loc 1 1257 10 is_stmt 0 view .LVU434
 1608 000c 0909     		lsrs	r1, r1, #4
 1609              	.LVL108:
1258:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1259:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Set the IT mask */
1260:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   itmask = 0x01 << itmask;
 1610              		.loc 1 1260 3 is_stmt 1 view .LVU435
 1611              		.loc 1 1260 17 is_stmt 0 view .LVU436
 1612 000e 8B40     		lsls	r3, r3, r1
 1613              	.LVL109:
1261:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1262:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Get the SPI_I2S_IT enable bit status */
1263:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   enablestatus = (SPIx->CR2 & itmask) ;
 1614              		.loc 1 1263 3 is_stmt 1 view .LVU437
 1615              		.loc 1 1263 23 is_stmt 0 view .LVU438
 1616 0010 8288     		ldrh	r2, [r0, #4]
 1617              		.loc 1 1263 16 view .LVU439
 1618 0012 1340     		ands	r3, r2
 1619              	.LVL110:
1264:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** 
1265:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Check the status of the specified SPI interrupt */
1266:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   if (((SPIx->SR & itpos) != (uint16_t)RESET) && enablestatus)
 1620              		.loc 1 1266 3 is_stmt 1 view .LVU440
 1621              		.loc 1 1266 13 is_stmt 0 view .LVU441
 1622 0014 0289     		ldrh	r2, [r0, #8]
 1623              		.loc 1 1266 6 view .LVU442
 1624 0016 2242     		tst	r2, r4
 1625 0018 03D0     		beq	.L93
 1626              		.loc 1 1266 47 discriminator 1 view .LVU443
 1627 001a 002B     		cmp	r3, #0
 1628 001c 03D1     		bne	.L94
1267:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
1268:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* SPI_I2S_IT is set */
1269:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     bitstatus = SET;
1270:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
1271:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   else
1272:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   {
1273:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     /* SPI_I2S_IT is reset */
1274:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****     bitstatus = RESET;
 1629              		.loc 1 1274 15 view .LVU444
 1630 001e 0020     		movs	r0, #0
 1631              	.LVL111:
 1632              		.loc 1 1274 15 view .LVU445
 1633 0020 00E0     		b	.L92
 1634              	.LVL112:
 1635              	.L93:
 1636              		.loc 1 1274 15 view .LVU446
 1637 0022 0020     		movs	r0, #0
 1638              	.LVL113:
 1639              	.L92:
1275:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
1276:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   /* Return the SPI_I2S_IT status */
1277:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   return bitstatus;
 1640              		.loc 1 1277 3 is_stmt 1 view .LVU447
1278:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c **** }
 1641              		.loc 1 1278 1 is_stmt 0 view .LVU448
ARM GAS  /tmp/ccOEkdfP.s 			page 52


 1642              		@ sp needed
 1643              	.LVL114:
 1644              		.loc 1 1278 1 view .LVU449
 1645 0024 10BD     		pop	{r4, pc}
 1646              	.LVL115:
 1647              	.L94:
1269:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1648              		.loc 1 1269 15 view .LVU450
 1649 0026 0120     		movs	r0, #1
 1650              	.LVL116:
1269:Drivers/STM32F0xx_StdPeriph_Driver/src/stm32f0xx_spi.c ****   }
 1651              		.loc 1 1269 15 view .LVU451
 1652 0028 FCE7     		b	.L92
 1653              		.cfi_endproc
 1654              	.LFE70:
 1656              		.text
 1657              	.Letext0:
 1658              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1659              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1660              		.file 4 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f0xx.h"
 1661              		.file 5 "Drivers/STM32F0xx_StdPeriph_Driver/inc/stm32f0xx_rcc.h"
 1662              		.file 6 "Drivers/STM32F0xx_StdPeriph_Driver/inc/stm32f0xx_spi.h"
 1663              		.file 7 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/system_stm32f0xx.h"
ARM GAS  /tmp/ccOEkdfP.s 			page 53


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f0xx_spi.c
     /tmp/ccOEkdfP.s:16     .text.SPI_I2S_DeInit:0000000000000000 $t
     /tmp/ccOEkdfP.s:24     .text.SPI_I2S_DeInit:0000000000000000 SPI_I2S_DeInit
     /tmp/ccOEkdfP.s:92     .text.SPI_I2S_DeInit:000000000000003c $d
     /tmp/ccOEkdfP.s:98     .text.SPI_StructInit:0000000000000000 $t
     /tmp/ccOEkdfP.s:105    .text.SPI_StructInit:0000000000000000 SPI_StructInit
     /tmp/ccOEkdfP.s:151    .text.SPI_Init:0000000000000000 $t
     /tmp/ccOEkdfP.s:158    .text.SPI_Init:0000000000000000 SPI_Init
     /tmp/ccOEkdfP.s:293    .text.SPI_Init:000000000000005c $d
     /tmp/ccOEkdfP.s:299    .text.I2S_StructInit:0000000000000000 $t
     /tmp/ccOEkdfP.s:306    .text.I2S_StructInit:0000000000000000 I2S_StructInit
     /tmp/ccOEkdfP.s:342    .text.I2S_Init:0000000000000000 $t
     /tmp/ccOEkdfP.s:349    .text.I2S_Init:0000000000000000 I2S_Init
     /tmp/ccOEkdfP.s:565    .text.I2S_Init:00000000000000b0 $d
     /tmp/ccOEkdfP.s:570    .text.SPI_Cmd:0000000000000000 $t
     /tmp/ccOEkdfP.s:577    .text.SPI_Cmd:0000000000000000 SPI_Cmd
     /tmp/ccOEkdfP.s:614    .text.SPI_TIModeCmd:0000000000000000 $t
     /tmp/ccOEkdfP.s:621    .text.SPI_TIModeCmd:0000000000000000 SPI_TIModeCmd
     /tmp/ccOEkdfP.s:658    .text.I2S_Cmd:0000000000000000 $t
     /tmp/ccOEkdfP.s:665    .text.I2S_Cmd:0000000000000000 I2S_Cmd
     /tmp/ccOEkdfP.s:702    .text.I2S_Cmd:000000000000001c $d
     /tmp/ccOEkdfP.s:707    .text.SPI_DataSizeConfig:0000000000000000 $t
     /tmp/ccOEkdfP.s:714    .text.SPI_DataSizeConfig:0000000000000000 SPI_DataSizeConfig
     /tmp/ccOEkdfP.s:747    .text.SPI_DataSizeConfig:000000000000000c $d
     /tmp/ccOEkdfP.s:752    .text.SPI_RxFIFOThresholdConfig:0000000000000000 $t
     /tmp/ccOEkdfP.s:759    .text.SPI_RxFIFOThresholdConfig:0000000000000000 SPI_RxFIFOThresholdConfig
     /tmp/ccOEkdfP.s:786    .text.SPI_RxFIFOThresholdConfig:0000000000000010 $d
     /tmp/ccOEkdfP.s:791    .text.SPI_BiDirectionalLineConfig:0000000000000000 $t
     /tmp/ccOEkdfP.s:798    .text.SPI_BiDirectionalLineConfig:0000000000000000 SPI_BiDirectionalLineConfig
     /tmp/ccOEkdfP.s:836    .text.SPI_BiDirectionalLineConfig:0000000000000020 $d
     /tmp/ccOEkdfP.s:841    .text.SPI_NSSInternalSoftwareConfig:0000000000000000 $t
     /tmp/ccOEkdfP.s:848    .text.SPI_NSSInternalSoftwareConfig:0000000000000000 SPI_NSSInternalSoftwareConfig
     /tmp/ccOEkdfP.s:886    .text.SPI_NSSInternalSoftwareConfig:000000000000001c $d
     /tmp/ccOEkdfP.s:892    .text.SPI_SSOutputCmd:0000000000000000 $t
     /tmp/ccOEkdfP.s:899    .text.SPI_SSOutputCmd:0000000000000000 SPI_SSOutputCmd
     /tmp/ccOEkdfP.s:936    .text.SPI_NSSPulseModeCmd:0000000000000000 $t
     /tmp/ccOEkdfP.s:943    .text.SPI_NSSPulseModeCmd:0000000000000000 SPI_NSSPulseModeCmd
     /tmp/ccOEkdfP.s:980    .text.SPI_SendData8:0000000000000000 $t
     /tmp/ccOEkdfP.s:987    .text.SPI_SendData8:0000000000000000 SPI_SendData8
     /tmp/ccOEkdfP.s:1009   .text.SPI_I2S_SendData16:0000000000000000 $t
     /tmp/ccOEkdfP.s:1016   .text.SPI_I2S_SendData16:0000000000000000 SPI_I2S_SendData16
     /tmp/ccOEkdfP.s:1035   .text.SPI_ReceiveData8:0000000000000000 $t
     /tmp/ccOEkdfP.s:1042   .text.SPI_ReceiveData8:0000000000000000 SPI_ReceiveData8
     /tmp/ccOEkdfP.s:1066   .text.SPI_I2S_ReceiveData16:0000000000000000 $t
     /tmp/ccOEkdfP.s:1073   .text.SPI_I2S_ReceiveData16:0000000000000000 SPI_I2S_ReceiveData16
     /tmp/ccOEkdfP.s:1094   .text.SPI_CRCLengthConfig:0000000000000000 $t
     /tmp/ccOEkdfP.s:1101   .text.SPI_CRCLengthConfig:0000000000000000 SPI_CRCLengthConfig
     /tmp/ccOEkdfP.s:1128   .text.SPI_CRCLengthConfig:0000000000000010 $d
     /tmp/ccOEkdfP.s:1133   .text.SPI_CalculateCRC:0000000000000000 $t
     /tmp/ccOEkdfP.s:1140   .text.SPI_CalculateCRC:0000000000000000 SPI_CalculateCRC
     /tmp/ccOEkdfP.s:1177   .text.SPI_CalculateCRC:000000000000001c $d
     /tmp/ccOEkdfP.s:1182   .text.SPI_TransmitCRC:0000000000000000 $t
     /tmp/ccOEkdfP.s:1189   .text.SPI_TransmitCRC:0000000000000000 SPI_TransmitCRC
     /tmp/ccOEkdfP.s:1212   .text.SPI_GetCRC:0000000000000000 $t
     /tmp/ccOEkdfP.s:1219   .text.SPI_GetCRC:0000000000000000 SPI_GetCRC
     /tmp/ccOEkdfP.s:1261   .text.SPI_GetCRCPolynomial:0000000000000000 $t
ARM GAS  /tmp/ccOEkdfP.s 			page 54


     /tmp/ccOEkdfP.s:1268   .text.SPI_GetCRCPolynomial:0000000000000000 SPI_GetCRCPolynomial
     /tmp/ccOEkdfP.s:1290   .text.SPI_I2S_DMACmd:0000000000000000 $t
     /tmp/ccOEkdfP.s:1297   .text.SPI_I2S_DMACmd:0000000000000000 SPI_I2S_DMACmd
     /tmp/ccOEkdfP.s:1336   .text.SPI_LastDMATransferCmd:0000000000000000 $t
     /tmp/ccOEkdfP.s:1343   .text.SPI_LastDMATransferCmd:0000000000000000 SPI_LastDMATransferCmd
     /tmp/ccOEkdfP.s:1370   .text.SPI_LastDMATransferCmd:0000000000000010 $d
     /tmp/ccOEkdfP.s:1375   .text.SPI_I2S_ITConfig:0000000000000000 $t
     /tmp/ccOEkdfP.s:1382   .text.SPI_I2S_ITConfig:0000000000000000 SPI_I2S_ITConfig
     /tmp/ccOEkdfP.s:1437   .text.SPI_GetTransmissionFIFOStatus:0000000000000000 $t
     /tmp/ccOEkdfP.s:1444   .text.SPI_GetTransmissionFIFOStatus:0000000000000000 SPI_GetTransmissionFIFOStatus
     /tmp/ccOEkdfP.s:1467   .text.SPI_GetReceptionFIFOStatus:0000000000000000 $t
     /tmp/ccOEkdfP.s:1474   .text.SPI_GetReceptionFIFOStatus:0000000000000000 SPI_GetReceptionFIFOStatus
     /tmp/ccOEkdfP.s:1497   .text.SPI_I2S_GetFlagStatus:0000000000000000 $t
     /tmp/ccOEkdfP.s:1504   .text.SPI_I2S_GetFlagStatus:0000000000000000 SPI_I2S_GetFlagStatus
     /tmp/ccOEkdfP.s:1540   .text.SPI_I2S_ClearFlag:0000000000000000 $t
     /tmp/ccOEkdfP.s:1547   .text.SPI_I2S_ClearFlag:0000000000000000 SPI_I2S_ClearFlag
     /tmp/ccOEkdfP.s:1572   .text.SPI_I2S_GetITStatus:0000000000000000 $t
     /tmp/ccOEkdfP.s:1579   .text.SPI_I2S_GetITStatus:0000000000000000 SPI_I2S_GetITStatus

UNDEFINED SYMBOLS
RCC_APB2PeriphResetCmd
RCC_APB1PeriphResetCmd
__aeabi_uidiv
RCC_GetClocksFreq
